!function(){"use strict";class e{constructor(e,t){let{data:s,userId:r,handleImageClick:i,handleDeleteClick:n}=e;this._name=s.name,this._link=s.link,this._cardSelector=t,this._handleImageClick=i,this._handleDeleteButton=n,this._id=s._id,this._userId=r}getId(){return this._id}isLiked(){return this._likes.some((e=>e._id===this._userId))}setLikes(e){this._likes=e,this.renderLikes()}renderLikes(){this._likesAmount=this._cardElement.querySelector(".card__like-number"),this._likesAmount.textContent=this._likes.length,this.isLiked()?this._cardElement.querySelector(".card__like-button").classList.add("card__like-button_clicked"):this._cardElement.querySelector(".card__like-button").classList.remove("card__like-button_clicked")}_setEventListeners(){this._cardElement.querySelector(".card__like-button").addEventListener("click",(()=>{this._handleLikeIcon()})),this._cardElement.querySelector(".card__delete-button").addEventListener("click",(()=>{this._handleDeleteButton(this.getId())})),this._cardElement.querySelector(".card__image").addEventListener("click",(()=>{this._handleImageClick({link:this._link,text:this._text})}))}_handleLikeIcon(){this._cardElement.querySelector(".card__like-button").classList.toggle("card__like-button_clicked")}_handleImageClick(){modalPicture.src=this._link,modalPicture.alt=`Photo of ${this._name}`,modalPictureDescription.textContent=this._name,open(pictureModal)}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}getView(){return this._cardElement=this._getTemplate(),this._setEventListeners(),this._cardElement.querySelector(".card__image").src=this._link,this._cardElement.querySelector(".card__image").alt=this._name,this._cardElement.querySelector(".card__title").textContent=this._name,this._cardElement}remove(){this._cardElement.remove(),this._cardElement=null}}class t{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t),this._closeButton=this._popupElement.querySelector(".modal__close-button")}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscapeClose),this._closeButton.addEventListener("click",this._handleClickClose),this._popupElement.addEventListener("mousedown",this._handleClickClose)}close(){document.removeEventListener("keydown",this._handleEscapeClose),this._popupElement.removeEventListener("mousedown",this._handleClickClose),this._popupElement.classList.remove("modal_opened"),this._closeButton.removeEventListener("click",this._handleClickClose)}_handleClickClose=e=>{(e.target.classList.contains("modal_opened")||e.target.classList.contains("modal__close-button"))&&this.close()};_handleEscapeClose=e=>{"Escape"===e.key&&this.close()}}class s extends t{constructor(e){let{popupSelector:t,handleFormSubmit:s}=e;super({popupSelector:t}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._inputList=this._popupElement.querySelectorAll(".modal__input"),this._handleFormSubmit=s,this._handleSubmit=this._handleSubmit.bind(this)}_getInputValues(){const e={};return this._inputList.forEach((t=>{e[t.name]=t.value})),e}setInputValues(e){this._inputList.forEach((t=>{t.value=e[t.name]}))}_handleSubmit(){this._handleFormSubmit(this._getInputValues())}open(){this._popupForm.addEventListener("submit",this._handleSubmit),super.open()}close(){this._popupForm.removeEventListener("submit",this._handleSubmit),this._popupForm.reset(),super.close()}}class r{constructor(e,t){let{items:s,renderer:r}=e;this._renderer=r,this._items=s,this._galleryCards=document.querySelector(t)}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._galleryCards.prepend(e)}}const i={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"};var n=class{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._form=t}_checkInputValidity(e){if(!e.validity.valid)return this._showInputError(e);this._hideInputError(e)}_showInputError(e){const t=this._form.querySelector("#"+e.id+"-error");e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._form.querySelector("#"+e.id+"-error");e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}toggleButtonState(){if(this._hasInvalidInput())return this._submitButton.classList.add(this._inactiveButtonClass),void(this._submitButton.disabled=!0);this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}_hasInvalidInput(){return!this._inputElements.every((e=>e.validity.valid))}_setEventListeners(){this._inputElements=[...this._form.querySelectorAll(this._inputSelector)],this._submitButton=this._form.querySelector(this._submitButtonSelector),this._inputElements.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this.toggleButtonState()}))}))}enableValidation(){this._form.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}disableButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}resetValidation(){this._form.reset(),this.disableButton()}};const o=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseURL=t,this._headers=s}getInitialCards(){return fetch(`${this._baseURL}/cards`,{headers:this._headers}).then((e=>this._checkServerResponse(e)))}getUserInfo(){return fetch(`${this._baseURL}/users/me`,{headers:this._headers}).then((e=>this._checkServerResponse(e)))}changeUserInfo(e,t){return fetch(`${this._baseURL}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then((e=>this._checkServerResponse(e)))}setAvatar(e){return fetch(`${this._baseURL}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.url})}).then((e=>this._checkServerResponse(e)))}addCard(e,t){return fetch(`${this._baseURL}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then((e=>this._checkServerResponse(e)))}deleteCard(e){return fetch(`${this._baseURL}/cards/${e}`,{method:"DELETE",headers:this._headers}).then((e=>this._checkServerResponse(e)))}changeLikeCard(e,t){return fetch(`${this._baseURL}/cards/likes/${e}`,{method:t?"DELETE":"PUT",headers:this._headers}).then((e=>this._checkServerResponse(e)))}_checkServerResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}}({baseUrl:"https://around.nomoreparties.co/v1/cohort-3-en",headers:{authorization:"36d4ccce-10c3-4fd1-8e69-65692c768133","Content-Type":"application/json"}});document.querySelector(".profile__edit-button").addEventListener("click",(()=>{const e=S.getUserInfo();l.resetValidation(),_.open(),_.setInputValues(e)})),document.querySelector(".profile__add-button").addEventListener("click",(()=>{a.resetValidation(),u.open()})),document.querySelector(".profile__image").addEventListener("click",(()=>{p.open()}));const l=new n(i,document.querySelector("#edit-form"));l.enableValidation();const a=new n(i,document.querySelector("#add-modal").querySelector("#add-form"));let c;a.enableValidation(),o.getInitialCards().then((e=>{c=new r({items:e,renderer:d},".gallery__cards"),c.renderItems()}));const d=t=>{const s=new e({data:t,handleImageClick:e=>{h.open(e)},handleDeleteClick:e=>{m.open(e)}},"#card-template").getView();c.addItem(s)},h=new class extends t{constructor(e){let{popupSelector:t}=e;super({popupSelector:t}),this._modalPicture=this._popupElement.querySelector(".modal__picture"),this._modalPictureDescription=this._popupElement.querySelector(".modal__picture-description")}open(e){this._modalPicture.src=e.link,this._modalPicture.alt=`Photo of ${e.name}`,this._modalPictureDescription.textContent=e.name,super.open()}}({popupSelector:"#picture-modal"}),u=new s({popupSelector:"#add-modal",handleFormSubmit:e=>{d(e),u.close()}}),_=new s({popupSelector:"#edit-modal",handleFormSubmit:e=>{S.setUserInfo(e),_.close()}}),m=new class extends t{constructor(e){let{popupSelector:t,handleFormSubmit:s}=e;super({popupSelector:t}),this._handleFormSubmit=s,this._confirmDeleteButton=this._popupElement.querySelector("#confirm-button"),this._setHandlers()}_setHandlers(){this._confirmDelete=this._popupElement.querySelector("#confirm-button"),this._confirmDelete.addEventListener("click",this._handleConfirm.bind(this)),this._confirmDeleteButton.addEventListener("click",this._handleConfirm.bind(this))}_handleConfirm(e){e.preventDefault(),"function"==typeof this._confirmHandler&&this._confirmHandler()}open(e){super.open(),this._handleFormSubmit(e)}setConfirmHandler(e){this._confirmHandler=e}setSubmitAction(e){this._handleFormSubmit=e}}({popupSelector:"#confirm-modal",handleFormSubmit:e=>{o.deleteCard(e).then((()=>{m.close()})).catch((e=>{console.error(e)}))}}),p=new s({popupSelector:"#avatar-modal",handleFormSubmit:e=>{p.close(e)}}),S=new class{constructor(e,t,s){this.userName=document.querySelector(e),this.userJob=document.querySelector(t),this._avatarSelector=document.querySelector(s)}getUserInfo(){return{userName:this.userName.textContent,userJob:this.userJob.textContent}}setUserInfo(e){let{userJob:t,userName:s}=e;this.userName.textContent=s,this.userJob.textContent=t}setAvatar(e){this._avatarSelector.src=e,console.log(e)}}(".profile__title",".profile__description")}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Y3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3V0aWxzL0NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHsgZGF0YSwgdXNlcklkLCBoYW5kbGVJbWFnZUNsaWNrLCBoYW5kbGVEZWxldGVDbGljayB9LFxyXG4gICAgY2FyZFNlbGVjdG9yXHJcbiAgKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQnV0dG9uID0gaGFuZGxlRGVsZXRlQ2xpY2s7XHJcbiAgICB0aGlzLl9pZCA9IGRhdGEuX2lkO1xyXG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xyXG4gIH1cclxuXHJcbiAgZ2V0SWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faWQ7XHJcbiAgfVxyXG4gIGlzTGlrZWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fbGlrZXMuc29tZSgobGlrZSkgPT4gbGlrZS5faWQgPT09IHRoaXMuX3VzZXJJZCk7XHJcbiAgfVxyXG5cclxuICBzZXRMaWtlcyhsaWtlcykge1xyXG4gICAgdGhpcy5fbGlrZXMgPSBsaWtlcztcclxuICAgIHRoaXMucmVuZGVyTGlrZXMoKTtcclxuICB9XHJcbiAgcmVuZGVyTGlrZXMoKSB7XHJcbiAgICB0aGlzLl9saWtlc0Ftb3VudCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1udW1iZXJcIik7XHJcbiAgICB0aGlzLl9saWtlc0Ftb3VudC50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuICAgIGlmICh0aGlzLmlzTGlrZWQoKSkge1xyXG4gICAgICB0aGlzLl9jYXJkRWxlbWVudFxyXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpXHJcbiAgICAgICAgLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19saWtlLWJ1dHRvbl9jbGlja2VkXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fY2FyZEVsZW1lbnRcclxuICAgICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKVxyXG4gICAgICAgIC5jbGFzc0xpc3QucmVtb3ZlKFwiY2FyZF9fbGlrZS1idXR0b25fY2xpY2tlZFwiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUxpa2VJY29uKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVsZXRlLWJ1dHRvblwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9oYW5kbGVEZWxldGVCdXR0b24odGhpcy5nZXRJZCgpKTtcclxuICAgICAgfSk7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHsgbGluazogdGhpcy5fbGluaywgdGV4dDogdGhpcy5fdGV4dCB9KTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlTGlrZUljb24oKSB7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKVxyXG4gICAgICAuY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2xpa2UtYnV0dG9uX2NsaWNrZWRcIik7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlSW1hZ2VDbGljaygpIHtcclxuICAgIG1vZGFsUGljdHVyZS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgbW9kYWxQaWN0dXJlLmFsdCA9IGBQaG90byBvZiAke3RoaXMuX25hbWV9YDtcclxuICAgIG1vZGFsUGljdHVyZURlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIG9wZW4ocGljdHVyZU1vZGFsKTtcclxuICB9XHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgcmV0dXJuIGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgfVxyXG5cclxuICBnZXRWaWV3KCkge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIikuc3JjID0gdGhpcy5fbGluaztcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIikuYWx0ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIikudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlKCkge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IG51bGw7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IgfSkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLm1vZGFsX19jbG9zZS1idXR0b25cIlxyXG4gICAgKTtcclxuICB9XHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjYXBlQ2xvc2UpO1xyXG4gICAgdGhpcy5fY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZUNsaWNrQ2xvc2UpO1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5faGFuZGxlQ2xpY2tDbG9zZSk7XHJcbiAgfVxyXG4gIGNsb3NlKCkge1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjYXBlQ2xvc2UpO1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5faGFuZGxlQ2xpY2tDbG9zZSk7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVDbGlja0Nsb3NlKTtcclxuICB9XHJcbiAgX2hhbmRsZUNsaWNrQ2xvc2UgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoXHJcbiAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfb3BlbmVkXCIpIHx8XHJcbiAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfX2Nsb3NlLWJ1dHRvblwiKVxyXG4gICAgKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBfaGFuZGxlRXNjYXBlQ2xvc2UgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQgfSkge1xyXG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIik7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCA9IHRoaXMuX2hhbmRsZVN1Ym1pdC5iaW5kKHRoaXMpO1xyXG4gIH1cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCBmb3JtVmFsdWVzID0ge307XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZm9ybVZhbHVlcztcclxuICB9XHJcbiAgc2V0SW5wdXRWYWx1ZXMoZGF0YSkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0LnZhbHVlID0gZGF0YVtpbnB1dC5uYW1lXTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZVN1Ym1pdCgpIHtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5faGFuZGxlU3VibWl0KTtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLl9oYW5kbGVTdWJtaXQpO1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtLnJlc2V0KCk7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBnYWxsZXJ5Q2FyZHMpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fZ2FsbGVyeUNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihnYWxsZXJ5Q2FyZHMpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoKSB7XHJcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGl0ZW1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9nYWxsZXJ5Q2FyZHMucHJlcGVuZChpdGVtRWxlbWVudCk7XHJcbiAgfVxyXG59XHJcbiIsIi8vIGV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcbi8vICAge1xyXG4vLyAgICAgbmFtZTogXCJUb2t5b1wiLFxyXG4vLyAgICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTY3ODk1MTMxMDg2MS02MDI5OWY5YjAxNjI/aXhsaWI9cmItNC4wLjMmaXhpZD1Nbnd4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZ3PTY4NyZxPTgwXCIsXHJcbi8vICAgfSxcclxuLy8gICB7XHJcbi8vICAgICBuYW1lOiBcIkdvbGRlbiBHYXRlIEJyaWRnZVwiLFxyXG4vLyAgICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTYwMzM4OTg2NTIxOS02NjlhMDc2ODE5M2U/aXhsaWI9cmItNC4wLjMmaXhpZD1Nbnd4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZ3PTY4NyZxPTgwXCIsXHJcbi8vICAgfSxcclxuLy8gICB7XHJcbi8vICAgICBuYW1lOiBcIlBsZWFzdXJlIFBpZXIgVFhcIixcclxuLy8gICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE1OTg4MDUyOTExODYtNjEyYzNjYTQ4MmE2P2l4bGliPXJiLTQuMC4zJml4aWQ9TW53eE1qQTNmREI4TUh4elpXRnlZMmg4T0h4OGNHeGxZWE4xY21VbE1qQndhV1Z5ZkdWdWZEQjhmREI4ZkElM0QlM0QmYXV0bz1mb3JtYXQmZml0PWNyb3Amdz00MDAmcT02MFwiLFxyXG4vLyAgIH0sXHJcbi8vICAge1xyXG4vLyAgICAgbmFtZTogXCJPY2VhbnNpZGUgQ0FcIixcclxuLy8gICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE1Mjg1MjE3MTIwODEtMDQ4MGVmZmY2NjY1P2l4bGliPXJiLTQuMC4zJml4aWQ9TW53eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDgmYXV0bz1mb3JtYXQmZml0PWNyb3Amdz02ODcmcT04MFwiLFxyXG4vLyAgIH0sXHJcbi8vICAge1xyXG4vLyAgICAgbmFtZTogXCJZZWxsb3dzdG9uZSBOYXRpb25hbCBQYXJrXCIsXHJcbi8vICAgICBsaW5rOiBcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTg2OTY4MzMyNzA0LTAxNjA1NTBmM2VjMT9peGxpYj1yYi00LjAuMyZpeGlkPU1ud3hNakEzZkRCOE1IeHpaV0Z5WTJoOE1UVjhmSGxsYkd4dmQzTjBiMjVsSlRJd2JtRjBhVzl1WVd3bE1qQndZWEpyZkdWdWZEQjhmREI4ZkElM0QlM0QmYXV0bz1mb3JtYXQmZml0PWNyb3Amdz00MDAmcT02MFwiLFxyXG4vLyAgIH0sXHJcbi8vICAge1xyXG4vLyAgICAgbmFtZTogXCJWZW5pY2VcIixcclxuLy8gICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE1MTY0ODM2MzgyNjEtZjRkYmFmMDM2OTYzP2l4bGliPXJiLTQuMC4zJml4aWQ9TW53eE1qQTNmREI4TUh4elpXRnlZMmg4TW54OGFYUmhiSGw4Wlc1OE1IeDhNSHg4JmF1dG89Zm9ybWF0JmZpdD1jcm9wJnc9NDAwJnE9NjBcIixcclxuLy8gICB9LFxyXG4vLyBdO1xyXG5cclxuZXhwb3J0IGNvbnN0IHNlbGVjdG9ycyA9IHtcclxuICBjYXJkU2VjdGlvbjogXCIuZ2FsbGVyeV9fY2FyZHNcIixcclxuICBjYXJkVGVtcGxhdGU6IFwiI2NhcmQtdGVtcGxhdGVcIixcclxuICBwcmV2aWV3UG9wdXA6IFwiLm1vZGFsX3ByZXZpZXdcIixcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB2YWxpZGF0aW9uQ29uZmlnID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm1cIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX2J1dHRvblwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX2J1dHRvbl9kaXNhYmxlZFwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcclxufTtcclxuIiwiY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gc2V0dGluZ3MuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gc2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHNldHRpbmdzLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBzZXR0aW5ncy5lcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZm9ybSA9IGZvcm1FbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiI1wiICsgaW5wdXRFbGVtZW50LmlkICsgXCItZXJyb3JcIlxyXG4gICAgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvck1lc3NhZ2VFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgZXJyb3JNZXNzYWdlRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZXJyb3JNZXNzYWdlRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIjXCIgKyBpbnB1dEVsZW1lbnQuaWQgKyBcIi1lcnJvclwiXHJcbiAgICApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yTWVzc2FnZUVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgZXJyb3JNZXNzYWdlRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuICB0b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICByZXR1cm4gIXRoaXMuX2lucHV0RWxlbWVudHMuZXZlcnkoXHJcbiAgICAgIChpbnB1dEVsZW1lbnQpID0+IGlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZFxyXG4gICAgKTtcclxuICB9XHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5faW5wdXRFbGVtZW50cyA9IFsuLi50aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcildO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2lucHV0RWxlbWVudHMuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuICBkaXNhYmxlQnV0dG9uKCkge1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gIH1cclxuICByZXNldFZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XHJcbiAgICB0aGlzLmRpc2FibGVCdXR0b24oKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3I7XHJcbi8vIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCB7IHNlbGVjdG9ycywgdmFsaWRhdGlvbkNvbmZpZyB9IGZyb20gXCIuLi91dGlscy9Db25zdGFudHMuanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybVwiO1xyXG5cclxuLy8gQVBJXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtMy1lblwiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiMzZkNGNjY2UtMTBjMy00ZmQxLThlNjktNjU2OTJjNzY4MTMzXCIsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICB9LFxyXG59KTtcclxuXHJcbi8vIFBPUFVQIEJVVFRPTlNcclxuLy9lZGl0XHJcbmNvbnN0IG9wZW5FZGl0UG9wdXBCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xyXG5vcGVuRWRpdFBvcHVwQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgY29uc3QgdXNlckRhdGEgPSB1c2VyLmdldFVzZXJJbmZvKCk7XHJcbiAgZWRpdEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgZWRpdFByb2ZpbGVNb2RhbC5vcGVuKCk7XHJcbiAgZWRpdFByb2ZpbGVNb2RhbC5zZXRJbnB1dFZhbHVlcyh1c2VyRGF0YSk7XHJcbn0pO1xyXG4vL2FkZFxyXG5jb25zdCBvcGVuQWRkUG9wdXBCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XHJcbm9wZW5BZGRQb3B1cEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGFkZEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgbmV3Q2FyZFBvcHVwLm9wZW4oKTtcclxufSk7XHJcblxyXG4vLyBhdmF0YXJcclxuY29uc3Qgb3BlbkF2YXRhclBvcHVwQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbWFnZVwiKTtcclxub3BlbkF2YXRhclBvcHVwQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgYXZhdGFyTW9kYWwub3BlbigpO1xyXG59KTtcclxuXHJcbi8vIEZvcm0gVmFsaWRhdG9yXHJcbmNvbnN0IGVkaXRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LWZvcm1cIik7XHJcbmNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgZWRpdEZvcm0pO1xyXG5lZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmNvbnN0IGFkZFByb2ZpbGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLW1vZGFsXCIpO1xyXG5jb25zdCBhZGRGb3JtID0gYWRkUHJvZmlsZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWZvcm1cIik7XHJcbmNvbnN0IGFkZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBhZGRGb3JtKTtcclxuYWRkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5sZXQgY2FyZFNlY3Rpb247XHJcbmFwaS5nZXRJbml0aWFsQ2FyZHMoKS50aGVuKChjYXJkcykgPT4ge1xyXG4gIGNhcmRTZWN0aW9uID0gbmV3IFNlY3Rpb24oXHJcbiAgICB7XHJcbiAgICAgIGl0ZW1zOiBjYXJkcyxcclxuICAgICAgcmVuZGVyZXI6IHJlbmRlckNhcmQsXHJcbiAgICB9LFxyXG4gICAgc2VsZWN0b3JzLmNhcmRTZWN0aW9uXHJcbiAgKTtcclxuICBjYXJkU2VjdGlvbi5yZW5kZXJJdGVtcygpO1xyXG59KTtcclxuXHJcbi8vIENhcmRcclxuY29uc3QgcmVuZGVyQ2FyZCA9IChkYXRhKSA9PiB7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBuZXcgQ2FyZChcclxuICAgIHtcclxuICAgICAgZGF0YSxcclxuICAgICAgaGFuZGxlSW1hZ2VDbGljazogKGltYWdlRGF0YSkgPT4ge1xyXG4gICAgICAgIGNhcmRQcmV2aWV3Lm9wZW4oaW1hZ2VEYXRhKTtcclxuICAgICAgfSxcclxuICAgICAgaGFuZGxlRGVsZXRlQ2xpY2s6IChpZCkgPT4ge1xyXG4gICAgICAgIGNvbmZpcm1EZWxldGVNb2RhbC5vcGVuKGlkKTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICBzZWxlY3RvcnMuY2FyZFRlbXBsYXRlXHJcbiAgKTtcclxuICBjb25zdCBuZXdDYXJkID0gY2FyZEVsZW1lbnQuZ2V0VmlldygpO1xyXG4gIGNhcmRTZWN0aW9uLmFkZEl0ZW0obmV3Q2FyZCk7XHJcbn07XHJcblxyXG4vLyBQb3B1cCB3aXRoIEltYWdlXHJcbmNvbnN0IGNhcmRQcmV2aWV3ID0gbmV3IFBvcHVwV2l0aEltYWdlKHtcclxuICBwb3B1cFNlbGVjdG9yOiBcIiNwaWN0dXJlLW1vZGFsXCIsXHJcbn0pO1xyXG5cclxuLy8gUG9wdXAgd2l0aCBmb3JtXHJcbmNvbnN0IG5ld0NhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICBwb3B1cFNlbGVjdG9yOiBcIiNhZGQtbW9kYWxcIixcclxuICBoYW5kbGVGb3JtU3VibWl0OiAoaW5wdXRWYWx1ZXMpID0+IHtcclxuICAgIHJlbmRlckNhcmQoaW5wdXRWYWx1ZXMpO1xyXG4gICAgbmV3Q2FyZFBvcHVwLmNsb3NlKCk7XHJcbiAgfSxcclxufSk7XHJcbmNvbnN0IGVkaXRQcm9maWxlTW9kYWwgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgcG9wdXBTZWxlY3RvcjogXCIjZWRpdC1tb2RhbFwiLFxyXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChpbnB1dFZhbHVlcykgPT4ge1xyXG4gICAgdXNlci5zZXRVc2VySW5mbyhpbnB1dFZhbHVlcyk7XHJcbiAgICBlZGl0UHJvZmlsZU1vZGFsLmNsb3NlKCk7XHJcbiAgfSxcclxufSk7XHJcblxyXG4vL1BvcHVwIHdpdGggQ29uZmlybVxyXG5jb25zdCBjb25maXJtRGVsZXRlTW9kYWwgPSBuZXcgUG9wdXBXaXRoQ29uZmlybSh7XHJcbiAgcG9wdXBTZWxlY3RvcjogXCIjY29uZmlybS1tb2RhbFwiLFxyXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChpZCkgPT4ge1xyXG4gICAgYXBpXHJcbiAgICAgIC5kZWxldGVDYXJkKGlkKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgY29uZmlybURlbGV0ZU1vZGFsLmNsb3NlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgfSk7XHJcbiAgICAvLyB9XHJcbiAgfSxcclxufSk7XHJcblxyXG4vLyBBdmF0YXIgUG9wdXBcclxuY29uc3QgYXZhdGFyTW9kYWwgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgcG9wdXBTZWxlY3RvcjogXCIjYXZhdGFyLW1vZGFsXCIsXHJcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGlucHV0VmFsdWVzKSA9PiB7XHJcbiAgICBhdmF0YXJNb2RhbC5jbG9zZShpbnB1dFZhbHVlcyk7XHJcbiAgfSxcclxufSk7XHJcblxyXG4vLyBVc2VyIEluZm9cclxuY29uc3QgdXNlciA9IG5ldyBVc2VySW5mbyhcIi5wcm9maWxlX190aXRsZVwiLCBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiKTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xyXG4gICAgdGhpcy5fYmFzZVVSTCA9IGJhc2VVcmw7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcclxuICB9XHJcblxyXG4gIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVVJMfS9jYXJkc2AsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fY2hlY2tTZXJ2ZXJSZXNwb25zZShyZXMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVVJMfS91c2Vycy9tZWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fY2hlY2tTZXJ2ZXJSZXNwb25zZShyZXMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjaGFuZ2VVc2VySW5mbyhuYW1lLCBhYm91dCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVUkx9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgYWJvdXQ6IGFib3V0LFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fY2hlY2tTZXJ2ZXJSZXNwb25zZShyZXMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzZXRBdmF0YXIoYXZhdGFyKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVSTH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGF2YXRhcjogYXZhdGFyLnVybCxcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2NoZWNrU2VydmVyUmVzcG9uc2UocmVzKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkQ2FyZChuYW1lLCBsaW5rKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVSTH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgIGxpbms6IGxpbmssXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9jaGVja1NlcnZlclJlc3BvbnNlKHJlcyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVSTH0vY2FyZHMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2NoZWNrU2VydmVyUmVzcG9uc2UocmVzKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY2hhbmdlTGlrZUNhcmQoY2FyZElkLCBpc0xpa2VkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVSTH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6IGlzTGlrZWQgPyBcIkRFTEVURVwiIDogXCJQVVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fY2hlY2tTZXJ2ZXJSZXNwb25zZShyZXMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIF9jaGVja1NlcnZlclJlc3BvbnNlKHJlcykge1xyXG4gICAgcmV0dXJuIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCI7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciB9KSB7XHJcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XHJcbiAgICB0aGlzLl9tb2RhbFBpY3R1cmUgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fcGljdHVyZVwiKTtcclxuICAgIHRoaXMuX21vZGFsUGljdHVyZURlc2NyaXB0aW9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLm1vZGFsX19waWN0dXJlLWRlc2NyaXB0aW9uXCJcclxuICAgICk7XHJcbiAgfVxyXG4gIG9wZW4oZGF0YSkge1xyXG4gICAgdGhpcy5fbW9kYWxQaWN0dXJlLnNyYyA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX21vZGFsUGljdHVyZS5hbHQgPSBgUGhvdG8gb2YgJHtkYXRhLm5hbWV9YDtcclxuICAgIHRoaXMuX21vZGFsUGljdHVyZURlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0IH0pIHtcclxuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5fY29uZmlybURlbGV0ZUJ1dHRvbiA9XHJcbiAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbmZpcm0tYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5fc2V0SGFuZGxlcnMoKTtcclxuICB9XHJcblxyXG4gIF9zZXRIYW5kbGVycygpIHtcclxuICAgIHRoaXMuX2NvbmZpcm1EZWxldGUgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIiNjb25maXJtLWJ1dHRvblwiKTtcclxuICAgIHRoaXMuX2NvbmZpcm1EZWxldGUuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgXCJjbGlja1wiLFxyXG4gICAgICB0aGlzLl9oYW5kbGVDb25maXJtLmJpbmQodGhpcylcclxuICAgICk7XHJcbiAgICB0aGlzLl9jb25maXJtRGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIFwiY2xpY2tcIixcclxuICAgICAgdGhpcy5faGFuZGxlQ29uZmlybS5iaW5kKHRoaXMpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUNvbmZpcm0oZXZlbnQpIHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBpZiAodHlwZW9mIHRoaXMuX2NvbmZpcm1IYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgdGhpcy5fY29uZmlybUhhbmRsZXIoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9wZW4oaWQpIHtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQoaWQpO1xyXG4gIH1cclxuXHJcbiAgc2V0Q29uZmlybUhhbmRsZXIoaGFuZGxlcikge1xyXG4gICAgdGhpcy5fY29uZmlybUhhbmRsZXIgPSBoYW5kbGVyO1xyXG4gIH1cclxuXHJcbiAgc2V0U3VibWl0QWN0aW9uKGFjdGlvbikge1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGFjdGlvbjtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHVzZXJOYW1lLCB1c2VySm9iLCBhdmF0YXIpIHtcclxuICAgIHRoaXMudXNlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJOYW1lKTtcclxuICAgIHRoaXMudXNlckpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlckpvYik7XHJcbiAgICB0aGlzLl9hdmF0YXJTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyKTtcclxuICB9XHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB1c2VyTmFtZTogdGhpcy51c2VyTmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgdXNlckpvYjogdGhpcy51c2VySm9iLnRleHRDb250ZW50LFxyXG4gICAgfTtcclxuICB9XHJcbiAgc2V0VXNlckluZm8oeyB1c2VySm9iLCB1c2VyTmFtZSB9KSB7XHJcbiAgICB0aGlzLnVzZXJOYW1lLnRleHRDb250ZW50ID0gdXNlck5hbWU7XHJcbiAgICB0aGlzLnVzZXJKb2IudGV4dENvbnRlbnQgPSB1c2VySm9iO1xyXG4gIH1cclxuICBzZXRBdmF0YXIoYXZhdGFyKSB7XHJcbiAgICB0aGlzLl9hdmF0YXJTZWxlY3Rvci5zcmMgPSBhdmF0YXI7XHJcbiAgICBjb25zb2xlLmxvZyhhdmF0YXIpO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiQ2FyZCIsImNvbnN0cnVjdG9yIiwiX3JlZiIsImNhcmRTZWxlY3RvciIsImRhdGEiLCJ1c2VySWQiLCJoYW5kbGVJbWFnZUNsaWNrIiwiaGFuZGxlRGVsZXRlQ2xpY2siLCJ0aGlzIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiX2hhbmRsZURlbGV0ZUJ1dHRvbiIsIl9pZCIsIl91c2VySWQiLCJnZXRJZCIsImlzTGlrZWQiLCJfbGlrZXMiLCJzb21lIiwibGlrZSIsInNldExpa2VzIiwibGlrZXMiLCJyZW5kZXJMaWtlcyIsIl9saWtlc0Ftb3VudCIsIl9jYXJkRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ0ZXh0Q29udGVudCIsImxlbmd0aCIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsIl9zZXRFdmVudExpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlTGlrZUljb24iLCJ0ZXh0IiwiX3RleHQiLCJ0b2dnbGUiLCJtb2RhbFBpY3R1cmUiLCJzcmMiLCJhbHQiLCJtb2RhbFBpY3R1cmVEZXNjcmlwdGlvbiIsIm9wZW4iLCJwaWN0dXJlTW9kYWwiLCJfZ2V0VGVtcGxhdGUiLCJkb2N1bWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJnZXRWaWV3IiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIl9jbG9zZUJ1dHRvbiIsIl9oYW5kbGVFc2NhcGVDbG9zZSIsIl9oYW5kbGVDbGlja0Nsb3NlIiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0IiwidGFyZ2V0IiwiY29udGFpbnMiLCJrZXkiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX3BvcHVwRm9ybSIsIl9pbnB1dExpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfaGFuZGxlU3VibWl0IiwiYmluZCIsIl9nZXRJbnB1dFZhbHVlcyIsImZvcm1WYWx1ZXMiLCJmb3JFYWNoIiwiaW5wdXQiLCJ2YWx1ZSIsInNldElucHV0VmFsdWVzIiwicmVzZXQiLCJTZWN0aW9uIiwiZ2FsbGVyeUNhcmRzIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9pdGVtcyIsIl9nYWxsZXJ5Q2FyZHMiLCJyZW5kZXJJdGVtcyIsIml0ZW0iLCJhZGRJdGVtIiwiaXRlbUVsZW1lbnQiLCJwcmVwZW5kIiwidmFsaWRhdGlvbkNvbmZpZyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwic2V0dGluZ3MiLCJmb3JtRWxlbWVudCIsIl9pbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJfZm9ybSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJpbnB1dEVsZW1lbnQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX3Nob3dJbnB1dEVycm9yIiwiX2hpZGVJbnB1dEVycm9yIiwiZXJyb3JNZXNzYWdlRWxlbWVudCIsImlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfc3VibWl0QnV0dG9uIiwiZGlzYWJsZWQiLCJfaW5wdXRFbGVtZW50cyIsImV2ZXJ5IiwiZW5hYmxlVmFsaWRhdGlvbiIsInByZXZlbnREZWZhdWx0IiwiZGlzYWJsZUJ1dHRvbiIsInJlc2V0VmFsaWRhdGlvbiIsImFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwiX2Jhc2VVUkwiLCJfaGVhZGVycyIsImdldEluaXRpYWxDYXJkcyIsImZldGNoIiwidGhlbiIsInJlcyIsIl9jaGVja1NlcnZlclJlc3BvbnNlIiwiZ2V0VXNlckluZm8iLCJjaGFuZ2VVc2VySW5mbyIsImFib3V0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzZXRBdmF0YXIiLCJhdmF0YXIiLCJ1cmwiLCJhZGRDYXJkIiwiZGVsZXRlQ2FyZCIsImNhcmRJZCIsImNoYW5nZUxpa2VDYXJkIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImF1dGhvcml6YXRpb24iLCJ1c2VyRGF0YSIsInVzZXIiLCJlZGl0Rm9ybVZhbGlkYXRvciIsImVkaXRQcm9maWxlTW9kYWwiLCJhZGRGb3JtVmFsaWRhdG9yIiwibmV3Q2FyZFBvcHVwIiwiYXZhdGFyTW9kYWwiLCJGb3JtVmFsaWRhdG9yIiwiY2FyZFNlY3Rpb24iLCJjYXJkcyIsInJlbmRlckNhcmQiLCJuZXdDYXJkIiwiaW1hZ2VEYXRhIiwiY2FyZFByZXZpZXciLCJjb25maXJtRGVsZXRlTW9kYWwiLCJfbW9kYWxQaWN0dXJlIiwiX21vZGFsUGljdHVyZURlc2NyaXB0aW9uIiwiaW5wdXRWYWx1ZXMiLCJzZXRVc2VySW5mbyIsIl9jb25maXJtRGVsZXRlQnV0dG9uIiwiX3NldEhhbmRsZXJzIiwiX2NvbmZpcm1EZWxldGUiLCJfaGFuZGxlQ29uZmlybSIsImV2ZW50IiwiX2NvbmZpcm1IYW5kbGVyIiwic2V0Q29uZmlybUhhbmRsZXIiLCJoYW5kbGVyIiwic2V0U3VibWl0QWN0aW9uIiwiYWN0aW9uIiwiY2F0Y2giLCJlcnJvciIsImNvbnNvbGUiLCJ1c2VyTmFtZSIsInVzZXJKb2IiLCJfYXZhdGFyU2VsZWN0b3IiLCJsb2ciXSwic291cmNlUm9vdCI6IiJ9