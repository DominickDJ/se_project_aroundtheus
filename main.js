!function(){"use strict";class e{constructor(e,t){let{data:s,userId:i,handleImageClick:r,handleDeleteClick:o}=e;this._name=s.name,this._link=s.link,this._cardSelector=t,this._handleImageClick=r,this._handleDeleteButton=o,this._id=s._id,this._userId=i}getId(){return this._id}isLiked(){return this._likes.some((e=>e._id===this._userId))}setLikes(e){this._likes=e,this.renderLikes()}renderLikes(){this._likesAmount=this._cardElement.querySelector(".card__like-amount"),this._likesAmount.textContent=this._likes.length,this.isLiked()?this._cardElement.querySelector(".card__like-button").classList.add("card__like-button_clicked"):this._cardElement.querySelector(".card__like-button").classList.remove("card__like-button_clicked")}_setEventListeners(){this._cardElement.querySelector(".card__like-button").addEventListener("click",(()=>{this._handleLikeIcon()})),this._cardElement.querySelector(".card__delete-button").addEventListener("click",(()=>{this._handleDeleteButton(this)})),this._cardElement.querySelector(".card__image").addEventListener("click",(()=>{this._handleImageClick({link:this._link,text:this._text})}))}_handleLikeIcon(){this._cardElement.querySelector(".card__like-button").classList.toggle("card__like-button_clicked")}_handleImageClick(){modalPicture.src=this._link,modalPicture.alt=`Photo of ${this._name}`,modalPictureDescription.textContent=this._name,open(pictureModal)}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}getView(){return this._cardElement=this._getTemplate(),this._setEventListeners(),this._cardElement.querySelector(".card__image").src=this._link,this._cardElement.querySelector(".card__image").alt=this._name,this._cardElement.querySelector(".card__title").textContent=this._name,this._cardElement}remove(){this._cardElement.remove(),this._cardElement=null}}class t{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t),this._closeButton=this._popupElement.querySelector(".modal__close-button")}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscapeClose),this._closeButton.addEventListener("click",this._handleClickClose),this._popupElement.addEventListener("mousedown",this._handleClickClose)}close(){document.removeEventListener("keydown",this._handleEscapeClose),this._popupElement.removeEventListener("mousedown",this._handleClickClose),this._popupElement.classList.remove("modal_opened"),this._closeButton.removeEventListener("click",this._handleClickClose)}_handleClickClose=e=>{(e.target.classList.contains("modal_opened")||e.target.classList.contains("modal__close-button"))&&this.close()};_handleEscapeClose=e=>{"Escape"===e.key&&this.close()}}class s extends t{constructor(e){let{popupSelector:t,handleFormSubmit:s}=e;super({popupSelector:t}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._inputList=this._popupElement.querySelectorAll(".modal__input"),this._handleFormSubmit=s,this._handleSubmit=this._handleSubmit.bind(this)}_getInputValues(){const e={};return this._inputList.forEach((t=>{e[t.name]=t.value})),e}setInputValues(e){this._inputList.forEach((t=>{t.value=e[t.name]}))}_handleSubmit(){this._handleFormSubmit(this._getInputValues())}open(){this._popupForm.addEventListener("submit",this._handleSubmit),super.open()}close(){this._popupForm.removeEventListener("submit",this._handleSubmit),this._popupForm.reset(),super.close()}}const i={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"};var r=class{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._form=t}_checkInputValidity(e){if(!e.validity.valid)return this._showInputError(e);this._hideInputError(e)}_showInputError(e){const t=this._form.querySelector("#"+e.id+"-error");e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._form.querySelector("#"+e.id+"-error");e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}toggleButtonState(){if(this._hasInvalidInput())return this._submitButton.classList.add(this._inactiveButtonClass),void(this._submitButton.disabled=!0);this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}_hasInvalidInput(){return!this._inputElements.every((e=>e.validity.valid))}_setEventListeners(){this._inputElements=[...this._form.querySelectorAll(this._inputSelector)],this._submitButton=this._form.querySelector(this._submitButtonSelector),this._inputElements.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this.toggleButtonState()}))}))}enableValidation(){this._form.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}disableButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}resetValidation(){this._form.reset(),this.disableButton()}};document.querySelector(".profile__edit-button").addEventListener("click",(()=>{const e=m.getUserInfo();o.resetValidation(),h.open(),h.setInputValues(e)})),document.querySelector(".profile__add-button").addEventListener("click",(()=>{n.resetValidation(),d.open()})),document.querySelector(".profile__image").addEventListener("click",(()=>{_.open()}));const o=new r(i,document.querySelector("#edit-form"));o.enableValidation();const n=new r(i,document.querySelector("#add-modal").querySelector("#add-form"));n.enableValidation();const l=t=>{const s=new e({data:t,handleImageClick:e=>{c.open(e)},handleDeleteClick:e=>{u.open(e)}},"#card-template").getView();a.addItem(s)},a=new class{constructor(e,t){let{items:s,renderer:i}=e;this._renderer=i,this._items=s,this._galleryCards=document.querySelector(t)}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._galleryCards.prepend(e)}}({items:[{name:"Tokyo",link:"https://images.unsplash.com/photo-1678951310861-60299f9b0162?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80"},{name:"Golden Gate Bridge",link:"https://images.unsplash.com/photo-1603389865219-669a0768193e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80"},{name:"Pleasure Pier TX",link:"https://images.unsplash.com/photo-1598805291186-612c3ca482a6?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxzZWFyY2h8OHx8cGxlYXN1cmUlMjBwaWVyfGVufDB8fDB8fA%3D%3D&auto=format&fit=crop&w=400&q=60"},{name:"Oceanside CA",link:"https://images.unsplash.com/photo-1528521712081-0480efff6665?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80"},{name:"Yellowstone National Park",link:"https://images.unsplash.com/photo-1586968332704-0160550f3ec1?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MTV8fHllbGxvd3N0b25lJTIwbmF0aW9uYWwlMjBwYXJrfGVufDB8fDB8fA%3D%3D&auto=format&fit=crop&w=400&q=60"},{name:"Venice",link:"https://images.unsplash.com/photo-1516483638261-f4dbaf036963?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8aXRhbHl8ZW58MHx8MHx8&auto=format&fit=crop&w=400&q=60"}],renderer:l},".gallery__cards");a.renderItems();const c=new class extends t{constructor(e){let{popupSelector:t}=e;super({popupSelector:t}),this._modalPicture=this._popupElement.querySelector(".modal__picture"),this._modalPictureDescription=this._popupElement.querySelector(".modal__picture-description")}open(e){this._modalPicture.src=e.link,this._modalPicture.alt=`Photo of ${e.name}`,this._modalPictureDescription.textContent=e.name,super.open()}}({popupSelector:"#picture-modal"}),d=new s({popupSelector:"#add-modal",handleFormSubmit:e=>{l(e),d.close()}}),h=new s({popupSelector:"#edit-modal",handleFormSubmit:e=>{m.setUserInfo(e),h.close()}}),u=new class extends t{constructor(e){let{popupSelector:t,handleFormSubmit:s}=e;super({popupSelector:t}),this._handleFormSubmit=s,this._confirmDeleteButton=this._popupElement.querySelector("#confirm-button"),this._setHandlers()}_setHandlers(){this._confirmDelete=this._popupElement.querySelector("#confirm-button"),this._confirmDelete.addEventListener("click",this._handleConfirm.bind(this)),this._confirmDeleteButton.addEventListener("click",this._handleConfirm.bind(this))}_handleConfirm(e){e.preventDefault(),"function"==typeof this._confirmHandler&&this._confirmHandler()}open(e){super.open(),this._handleFormSubmit(e)}setConfirmHandler(e){this._confirmHandler=e}setSubmitAction(e){this._handleFormSubmit=e}}({popupSelector:"#confirm-modal",handleFormSubmit:()=>{id===ownerId&&p.delete(id).then((()=>{u.close()})).catch((e=>{console.error(e)}))}}),_=new s({popupSelector:"#avatar-modal",handleFormSubmit:e=>{_.close(e)}}),m=new class{constructor(e,t,s){this.userName=document.querySelector(e),this.userJob=document.querySelector(t),this._avatarSelector=document.querySelector(s)}getUserInfo(){return{userName:this.userName.textContent,userJob:this.userJob.textContent}}setUserInfo(e){let{userJob:t,userName:s}=e;this.userName.textContent=s,this.userJob.textContent=t}setAvatar(e){this._avatarSelector.src=e,console.log(e)}}(".profile__title",".profile__description"),p=new class{constructor(e){let{baseURL:t,headers:s}=e;this._baseURL=t,this._headers=s}getInitialCards(){return fetch(`${this._baseURL}/cards`,{headers:this._headers}).then((e=>this._checkServerResponse(e)))}getUserInfo(){return fetch(`${this._baseURL}/users/me`,{headers:this._headers}).then((e=>this._checkServerResponse(e)))}changeUserInfo(e,t){return fetch(`${this._baseURL}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then((e=>this._checkServerResponse(e)))}setAvatar(e){return fetch(`${this._baseURL}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.url})}).then((e=>this._checkServerResponse(e)))}addCard(e,t){return fetch(`${this._baseURL}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then((e=>this._checkServerResponse(e)))}deleteCard(e){return fetch(`${this._baseURL}/cards/${e}`,{method:"DELETE",headers:this._headers}).then((e=>this._checkServerResponse(e)))}changeLikeCard(e,t){return fetch(`${this._baseURL}/cards/likes/${e}`,{method:t?"DELETE":"PUT",headers:this._headers}).then((e=>this._checkServerResponse(e)))}_checkServerResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}}({baseUrl:"https://around.nomoreparties.co/v1/cohort-3-en",headers:{authorization:"36d4ccce-10c3-4fd1-8e69-65692c768133","Content-Type":"application/json"}})}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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U0MsUUFBUUMsT0FBUSxVQUFTaEIsRUFBSWlCLFNBQzVELEdMeUNrQixDQUNsQkMsUUFBUyxpREFDVHZCLFFBQVMsQ0FDUHdCLGNBQWUsdUNBQ2YsZUFBZ0IscUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3V0aWxzL0NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm0uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgeyBkYXRhLCB1c2VySWQsIGhhbmRsZUltYWdlQ2xpY2ssIGhhbmRsZURlbGV0ZUNsaWNrIH0sXHJcbiAgICBjYXJkU2VsZWN0b3JcclxuICApIHtcclxuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xyXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVCdXR0b24gPSBoYW5kbGVEZWxldGVDbGljaztcclxuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XHJcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XHJcbiAgfVxyXG5cclxuICBnZXRJZCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9pZDtcclxuICB9XHJcbiAgaXNMaWtlZCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9saWtlcy5zb21lKChsaWtlKSA9PiBsaWtlLl9pZCA9PT0gdGhpcy5fdXNlcklkKTtcclxuICB9XHJcblxyXG4gIHNldExpa2VzKGxpa2VzKSB7XHJcbiAgICB0aGlzLl9saWtlcyA9IGxpa2VzO1xyXG4gICAgdGhpcy5yZW5kZXJMaWtlcygpO1xyXG4gIH1cclxuICByZW5kZXJMaWtlcygpIHtcclxuICAgIHRoaXMuX2xpa2VzQW1vdW50ID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWFtb3VudFwiKTtcclxuICAgIHRoaXMuX2xpa2VzQW1vdW50LnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xyXG4gICAgaWYgKHRoaXMuaXNMaWtlZCgpKSB7XHJcbiAgICAgIHRoaXMuX2NhcmRFbGVtZW50XHJcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIilcclxuICAgICAgICAuY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2UtYnV0dG9uX2NsaWNrZWRcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9jYXJkRWxlbWVudFxyXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpXHJcbiAgICAgICAgLmNsYXNzTGlzdC5yZW1vdmUoXCJjYXJkX19saWtlLWJ1dHRvbl9jbGlja2VkXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlTGlrZUljb24oKTtcclxuICAgICAgfSk7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZWxldGUtYnV0dG9uXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUJ1dHRvbih0aGlzKTtcclxuICAgICAgfSk7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHsgbGluazogdGhpcy5fbGluaywgdGV4dDogdGhpcy5fdGV4dCB9KTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlTGlrZUljb24oKSB7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKVxyXG4gICAgICAuY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2xpa2UtYnV0dG9uX2NsaWNrZWRcIik7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlSW1hZ2VDbGljaygpIHtcclxuICAgIG1vZGFsUGljdHVyZS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgbW9kYWxQaWN0dXJlLmFsdCA9IGBQaG90byBvZiAke3RoaXMuX25hbWV9YDtcclxuICAgIG1vZGFsUGljdHVyZURlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIG9wZW4ocGljdHVyZU1vZGFsKTtcclxuICB9XHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgcmV0dXJuIGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgfVxyXG5cclxuICBnZXRWaWV3KCkge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIikuc3JjID0gdGhpcy5fbGluaztcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIikuYWx0ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIikudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlKCkge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IG51bGw7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IgfSkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLm1vZGFsX19jbG9zZS1idXR0b25cIlxyXG4gICAgKTtcclxuICB9XHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjYXBlQ2xvc2UpO1xyXG4gICAgdGhpcy5fY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZUNsaWNrQ2xvc2UpO1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5faGFuZGxlQ2xpY2tDbG9zZSk7XHJcbiAgfVxyXG4gIGNsb3NlKCkge1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjYXBlQ2xvc2UpO1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5faGFuZGxlQ2xpY2tDbG9zZSk7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVDbGlja0Nsb3NlKTtcclxuICB9XHJcbiAgX2hhbmRsZUNsaWNrQ2xvc2UgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoXHJcbiAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfb3BlbmVkXCIpIHx8XHJcbiAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfX2Nsb3NlLWJ1dHRvblwiKVxyXG4gICAgKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBfaGFuZGxlRXNjYXBlQ2xvc2UgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQgfSkge1xyXG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIik7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCA9IHRoaXMuX2hhbmRsZVN1Ym1pdC5iaW5kKHRoaXMpO1xyXG4gIH1cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCBmb3JtVmFsdWVzID0ge307XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZm9ybVZhbHVlcztcclxuICB9XHJcbiAgc2V0SW5wdXRWYWx1ZXMoZGF0YSkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0LnZhbHVlID0gZGF0YVtpbnB1dC5uYW1lXTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZVN1Ym1pdCgpIHtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5faGFuZGxlU3VibWl0KTtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLl9oYW5kbGVTdWJtaXQpO1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtLnJlc2V0KCk7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gIHtcclxuICAgIG5hbWU6IFwiVG9reW9cIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE2Nzg5NTEzMTA4NjEtNjAyOTlmOWIwMTYyP2l4bGliPXJiLTQuMC4zJml4aWQ9TW53eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDgmYXV0bz1mb3JtYXQmZml0PWNyb3Amdz02ODcmcT04MFwiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJHb2xkZW4gR2F0ZSBCcmlkZ2VcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE2MDMzODk4NjUyMTktNjY5YTA3NjgxOTNlP2l4bGliPXJiLTQuMC4zJml4aWQ9TW53eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDgmYXV0bz1mb3JtYXQmZml0PWNyb3Amdz02ODcmcT04MFwiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJQbGVhc3VyZSBQaWVyIFRYXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTk4ODA1MjkxMTg2LTYxMmMzY2E0ODJhNj9peGxpYj1yYi00LjAuMyZpeGlkPU1ud3hNakEzZkRCOE1IeHpaV0Z5WTJoOE9IeDhjR3hsWVhOMWNtVWxNakJ3YVdWeWZHVnVmREI4ZkRCOGZBJTNEJTNEJmF1dG89Zm9ybWF0JmZpdD1jcm9wJnc9NDAwJnE9NjBcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiT2NlYW5zaWRlIENBXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTI4NTIxNzEyMDgxLTA0ODBlZmZmNjY2NT9peGxpYj1yYi00LjAuMyZpeGlkPU1ud3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHg4JmF1dG89Zm9ybWF0JmZpdD1jcm9wJnc9Njg3JnE9ODBcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiWWVsbG93c3RvbmUgTmF0aW9uYWwgUGFya1wiLFxyXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTU4Njk2ODMzMjcwNC0wMTYwNTUwZjNlYzE/aXhsaWI9cmItNC4wLjMmaXhpZD1Nbnd4TWpBM2ZEQjhNSHh6WldGeVkyaDhNVFY4ZkhsbGJHeHZkM04wYjI1bEpUSXdibUYwYVc5dVlXd2xNakJ3WVhKcmZHVnVmREI4ZkRCOGZBJTNEJTNEJmF1dG89Zm9ybWF0JmZpdD1jcm9wJnc9NDAwJnE9NjBcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiVmVuaWNlXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTE2NDgzNjM4MjYxLWY0ZGJhZjAzNjk2Mz9peGxpYj1yYi00LjAuMyZpeGlkPU1ud3hNakEzZkRCOE1IeHpaV0Z5WTJoOE1ueDhhWFJoYkhsOFpXNThNSHg4TUh4OCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZ3PTQwMCZxPTYwXCIsXHJcbiAgfSxcclxuXTtcclxuXHJcbmV4cG9ydCBjb25zdCBzZWxlY3RvcnMgPSB7XHJcbiAgY2FyZFNlY3Rpb246IFwiLmdhbGxlcnlfX2NhcmRzXCIsXHJcbiAgY2FyZFRlbXBsYXRlOiBcIiNjYXJkLXRlbXBsYXRlXCIsXHJcbiAgcHJldmlld1BvcHVwOiBcIi5tb2RhbF9wcmV2aWV3XCIsXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcclxuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19idXR0b25fZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcIm1vZGFsX19lcnJvcl92aXNpYmxlXCIsXHJcbn07XHJcbiIsImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWxlbWVudCkge1xyXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHNldHRpbmdzLmlucHV0U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IHNldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBzZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gc2V0dGluZ3MuZXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Zvcm0gPSBmb3JtRWxlbWVudDtcclxuICB9XHJcblxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvck1lc3NhZ2VFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIiNcIiArIGlucHV0RWxlbWVudC5pZCArIFwiLWVycm9yXCJcclxuICAgICk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JNZXNzYWdlRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIGVycm9yTWVzc2FnZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiI1wiICsgaW5wdXRFbGVtZW50LmlkICsgXCItZXJyb3JcIlxyXG4gICAgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvck1lc3NhZ2VFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIGVycm9yTWVzc2FnZUVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcclxuICB9XHJcbiAgdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuICF0aGlzLl9pbnB1dEVsZW1lbnRzLmV2ZXJ5KFxyXG4gICAgICAoaW5wdXRFbGVtZW50KSA9PiBpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWRcclxuICAgICk7XHJcbiAgfVxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2lucHV0RWxlbWVudHMgPSBbLi4udGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9pbnB1dEVsZW1lbnRzLmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChldnQpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbiAgZGlzYWJsZUJ1dHRvbigpIHtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICB9XHJcbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gICAgdGhpcy5kaXNhYmxlQnV0dG9uKCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yO1xyXG4vLyIsImltcG9ydCBcIi4vaW5kZXguY3NzXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQge1xyXG4gIGluaXRpYWxDYXJkcyxcclxuICBzZWxlY3RvcnMsXHJcbiAgdmFsaWRhdGlvbkNvbmZpZyxcclxufSBmcm9tIFwiLi4vdXRpbHMvQ29uc3RhbnRzLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhDb25maXJtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1cIjtcclxuXHJcbi8vIFBPUFVQIEJVVFRPTlNcclxuLy9lZGl0XHJcbmNvbnN0IG9wZW5FZGl0UG9wdXBCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xyXG5vcGVuRWRpdFBvcHVwQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgY29uc3QgdXNlckRhdGEgPSB1c2VyLmdldFVzZXJJbmZvKCk7XHJcbiAgZWRpdEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgZWRpdFByb2ZpbGVNb2RhbC5vcGVuKCk7XHJcbiAgZWRpdFByb2ZpbGVNb2RhbC5zZXRJbnB1dFZhbHVlcyh1c2VyRGF0YSk7XHJcbn0pO1xyXG4vL2FkZFxyXG5jb25zdCBvcGVuQWRkUG9wdXBCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XHJcbm9wZW5BZGRQb3B1cEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGFkZEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgbmV3Q2FyZFBvcHVwLm9wZW4oKTtcclxufSk7XHJcblxyXG4vLyBhdmF0YXJcclxuY29uc3Qgb3BlbkF2YXRhclBvcHVwQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbWFnZVwiKTtcclxub3BlbkF2YXRhclBvcHVwQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgYXZhdGFyTW9kYWwub3BlbigpO1xyXG59KTtcclxuXHJcbi8vIEZvcm0gVmFsaWRhdG9yXHJcbmNvbnN0IGVkaXRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LWZvcm1cIik7XHJcbmNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgZWRpdEZvcm0pO1xyXG5lZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmNvbnN0IGFkZFByb2ZpbGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLW1vZGFsXCIpO1xyXG5jb25zdCBhZGRGb3JtID0gYWRkUHJvZmlsZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWZvcm1cIik7XHJcbmNvbnN0IGFkZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBhZGRGb3JtKTtcclxuYWRkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG4vLyBDYXJkXHJcbmNvbnN0IHJlbmRlckNhcmQgPSAoZGF0YSkgPT4ge1xyXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gbmV3IENhcmQoXHJcbiAgICB7XHJcbiAgICAgIGRhdGEsXHJcbiAgICAgIGhhbmRsZUltYWdlQ2xpY2s6IChpbWFnZURhdGEpID0+IHtcclxuICAgICAgICBjYXJkUHJldmlldy5vcGVuKGltYWdlRGF0YSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGhhbmRsZURlbGV0ZUNsaWNrOiAoY2FyZCkgPT4ge1xyXG4gICAgICAgIGNvbmZpcm1EZWxldGVNb2RhbC5vcGVuKGNhcmQpO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHNlbGVjdG9ycy5jYXJkVGVtcGxhdGVcclxuICApO1xyXG4gIGNvbnN0IG5ld0NhcmQgPSBjYXJkRWxlbWVudC5nZXRWaWV3KCk7XHJcbiAgY2FyZFNlY3Rpb24uYWRkSXRlbShuZXdDYXJkKTtcclxufTtcclxuLy8gU2VjdGlvblxyXG5jb25zdCBjYXJkU2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxyXG4gIHtcclxuICAgIGl0ZW1zOiBpbml0aWFsQ2FyZHMsXHJcbiAgICByZW5kZXJlcjogcmVuZGVyQ2FyZCxcclxuICB9LFxyXG4gIHNlbGVjdG9ycy5jYXJkU2VjdGlvblxyXG4pO1xyXG5jYXJkU2VjdGlvbi5yZW5kZXJJdGVtcygpO1xyXG5cclxuLy8gUG9wdXAgd2l0aCBJbWFnZVxyXG5jb25zdCBjYXJkUHJldmlldyA9IG5ldyBQb3B1cFdpdGhJbWFnZSh7XHJcbiAgcG9wdXBTZWxlY3RvcjogXCIjcGljdHVyZS1tb2RhbFwiLFxyXG59KTtcclxuXHJcbi8vIFBvcHVwIHdpdGggZm9ybVxyXG5jb25zdCBuZXdDYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgcG9wdXBTZWxlY3RvcjogXCIjYWRkLW1vZGFsXCIsXHJcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGlucHV0VmFsdWVzKSA9PiB7XHJcbiAgICByZW5kZXJDYXJkKGlucHV0VmFsdWVzKTtcclxuICAgIG5ld0NhcmRQb3B1cC5jbG9zZSgpO1xyXG4gIH0sXHJcbn0pO1xyXG5jb25zdCBlZGl0UHJvZmlsZU1vZGFsID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gIHBvcHVwU2VsZWN0b3I6IFwiI2VkaXQtbW9kYWxcIixcclxuICBoYW5kbGVGb3JtU3VibWl0OiAoaW5wdXRWYWx1ZXMpID0+IHtcclxuICAgIHVzZXIuc2V0VXNlckluZm8oaW5wdXRWYWx1ZXMpO1xyXG4gICAgZWRpdFByb2ZpbGVNb2RhbC5jbG9zZSgpO1xyXG4gIH0sXHJcbn0pO1xyXG5cclxuLy9Qb3B1cCB3aXRoIENvbmZpcm1cclxuY29uc3QgY29uZmlybURlbGV0ZU1vZGFsID0gbmV3IFBvcHVwV2l0aENvbmZpcm0oe1xyXG4gIHBvcHVwU2VsZWN0b3I6IFwiI2NvbmZpcm0tbW9kYWxcIixcclxuICBoYW5kbGVGb3JtU3VibWl0OiAoKSA9PiB7XHJcbiAgICBpZiAoaWQgPT09IG93bmVySWQpIHtcclxuICAgICAgYXBpXHJcbiAgICAgICAgLmRlbGV0ZShpZClcclxuICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICBjb25maXJtRGVsZXRlTW9kYWwuY2xvc2UoKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0sXHJcbn0pO1xyXG5jb25zdCBhdmF0YXJNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICBwb3B1cFNlbGVjdG9yOiBcIiNhdmF0YXItbW9kYWxcIixcclxuICBoYW5kbGVGb3JtU3VibWl0OiAoaW5wdXRWYWx1ZXMpID0+IHtcclxuICAgIGF2YXRhck1vZGFsLmNsb3NlKGlucHV0VmFsdWVzKTtcclxuICB9LFxyXG59KTtcclxuXHJcbi8vIFVzZXIgSW5mb1xyXG5jb25zdCB1c2VyID0gbmV3IFVzZXJJbmZvKFwiLnByb2ZpbGVfX3RpdGxlXCIsIFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIpO1xyXG5cclxuLy8gQVBJXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtMy1lblwiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiMzZkNGNjY2UtMTBjMy00ZmQxLThlNjktNjU2OTJjNzY4MTMzXCIsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICB9LFxyXG59KTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgZ2FsbGVyeUNhcmRzKSB7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgIHRoaXMuX2dhbGxlcnlDYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZ2FsbGVyeUNhcmRzKTtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKCkge1xyXG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShpdGVtRWxlbWVudCkge1xyXG4gICAgdGhpcy5fZ2FsbGVyeUNhcmRzLnByZXBlbmQoaXRlbUVsZW1lbnQpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yIH0pIHtcclxuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcclxuICAgIHRoaXMuX21vZGFsUGljdHVyZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19waWN0dXJlXCIpO1xyXG4gICAgdGhpcy5fbW9kYWxQaWN0dXJlRGVzY3JpcHRpb24gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIubW9kYWxfX3BpY3R1cmUtZGVzY3JpcHRpb25cIlxyXG4gICAgKTtcclxuICB9XHJcbiAgb3BlbihkYXRhKSB7XHJcbiAgICB0aGlzLl9tb2RhbFBpY3R1cmUuc3JjID0gZGF0YS5saW5rO1xyXG4gICAgdGhpcy5fbW9kYWxQaWN0dXJlLmFsdCA9IGBQaG90byBvZiAke2RhdGEubmFtZX1gO1xyXG4gICAgdGhpcy5fbW9kYWxQaWN0dXJlRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQgfSkge1xyXG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgICB0aGlzLl9jb25maXJtRGVsZXRlQnV0dG9uID1cclxuICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY29uZmlybS1idXR0b25cIik7XHJcbiAgICB0aGlzLl9zZXRIYW5kbGVycygpO1xyXG4gIH1cclxuXHJcbiAgX3NldEhhbmRsZXJzKCkge1xyXG4gICAgdGhpcy5fY29uZmlybURlbGV0ZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbmZpcm0tYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5fY29uZmlybURlbGV0ZS5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICBcImNsaWNrXCIsXHJcbiAgICAgIHRoaXMuX2hhbmRsZUNvbmZpcm0uYmluZCh0aGlzKVxyXG4gICAgKTtcclxuICAgIHRoaXMuX2NvbmZpcm1EZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgXCJjbGlja1wiLFxyXG4gICAgICB0aGlzLl9oYW5kbGVDb25maXJtLmJpbmQodGhpcylcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlQ29uZmlybShldmVudCkge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIGlmICh0eXBlb2YgdGhpcy5fY29uZmlybUhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICB0aGlzLl9jb25maXJtSGFuZGxlcigpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb3BlbihldnQpIHtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQoZXZ0KTtcclxuICB9XHJcblxyXG4gIHNldENvbmZpcm1IYW5kbGVyKGhhbmRsZXIpIHtcclxuICAgIHRoaXMuX2NvbmZpcm1IYW5kbGVyID0gaGFuZGxlcjtcclxuICB9XHJcblxyXG4gIHNldFN1Ym1pdEFjdGlvbihhY3Rpb24pIHtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBhY3Rpb247XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih1c2VyTmFtZSwgdXNlckpvYiwgYXZhdGFyKSB7XHJcbiAgICB0aGlzLnVzZXJOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VyTmFtZSk7XHJcbiAgICB0aGlzLnVzZXJKb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJKb2IpO1xyXG4gICAgdGhpcy5fYXZhdGFyU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhcik7XHJcbiAgfVxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdXNlck5hbWU6IHRoaXMudXNlck5hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgIHVzZXJKb2I6IHRoaXMudXNlckpvYi50ZXh0Q29udGVudCxcclxuICAgIH07XHJcbiAgfVxyXG4gIHNldFVzZXJJbmZvKHsgdXNlckpvYiwgdXNlck5hbWUgfSkge1xyXG4gICAgdGhpcy51c2VyTmFtZS50ZXh0Q29udGVudCA9IHVzZXJOYW1lO1xyXG4gICAgdGhpcy51c2VySm9iLnRleHRDb250ZW50ID0gdXNlckpvYjtcclxuICB9XHJcbiAgc2V0QXZhdGFyKGF2YXRhcikge1xyXG4gICAgdGhpcy5fYXZhdGFyU2VsZWN0b3Iuc3JjID0gYXZhdGFyO1xyXG4gICAgY29uc29sZS5sb2coYXZhdGFyKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcih7IGJhc2VVUkwsIGhlYWRlcnMgfSkge1xyXG4gICAgdGhpcy5fYmFzZVVSTCA9IGJhc2VVUkw7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcclxuICB9XHJcblxyXG4gIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVVJMfS9jYXJkc2AsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fY2hlY2tTZXJ2ZXJSZXNwb25zZShyZXMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVVJMfS91c2Vycy9tZWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fY2hlY2tTZXJ2ZXJSZXNwb25zZShyZXMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjaGFuZ2VVc2VySW5mbyhuYW1lLCBhYm91dCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVUkx9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgYWJvdXQ6IGFib3V0LFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fY2hlY2tTZXJ2ZXJSZXNwb25zZShyZXMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzZXRBdmF0YXIoZGF0YSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVUkx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhdmF0YXI6IGRhdGEudXJsLFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fY2hlY2tTZXJ2ZXJSZXNwb25zZShyZXMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuXHJcbiAgYWRkQ2FyZChuYW1lLCBsaW5rKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVSTH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgIGxpbms6IGxpbmssXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9jaGVja1NlcnZlclJlc3BvbnNlKHJlcyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVSTH0vY2FyZHMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2NoZWNrU2VydmVyUmVzcG9uc2UocmVzKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY2hhbmdlTGlrZUNhcmQoY2FyZElkLCBpc0xpa2VkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVSTH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6IGlzTGlrZWQgPyBcIkRFTEVURVwiIDogXCJQVVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fY2hlY2tTZXJ2ZXJSZXNwb25zZShyZXMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIF9jaGVja1NlcnZlclJlc3BvbnNlKHJlcykge1xyXG4gICAgcmV0dXJuIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIkNhcmQiLCJjb25zdHJ1Y3RvciIsIl9yZWYiLCJjYXJkU2VsZWN0b3IiLCJkYXRhIiwidXNlcklkIiwiaGFuZGxlSW1hZ2VDbGljayIsImhhbmRsZURlbGV0ZUNsaWNrIiwidGhpcyIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlSW1hZ2VDbGljayIsIl9oYW5kbGVEZWxldGVCdXR0b24iLCJfaWQiLCJfdXNlcklkIiwiZ2V0SWQiLCJpc0xpa2VkIiwiX2xpa2VzIiwic29tZSIsImxpa2UiLCJzZXRMaWtlcyIsImxpa2VzIiwicmVuZGVyTGlrZXMiLCJfbGlrZXNBbW91bnQiLCJfY2FyZEVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidGV4dENvbnRlbnQiLCJsZW5ndGgiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZUxpa2VJY29uIiwidGV4dCIsIl90ZXh0IiwidG9nZ2xlIiwibW9kYWxQaWN0dXJlIiwic3JjIiwiYWx0IiwibW9kYWxQaWN0dXJlRGVzY3JpcHRpb24iLCJvcGVuIiwicGljdHVyZU1vZGFsIiwiX2dldFRlbXBsYXRlIiwiZG9jdW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiZ2V0VmlldyIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfY2xvc2VCdXR0b24iLCJfaGFuZGxlRXNjYXBlQ2xvc2UiLCJfaGFuZGxlQ2xpY2tDbG9zZSIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsInRhcmdldCIsImNvbnRhaW5zIiwia2V5IiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJzdXBlciIsIl9wb3B1cEZvcm0iLCJfaW5wdXRMaXN0IiwicXVlcnlTZWxlY3RvckFsbCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2hhbmRsZVN1Ym1pdCIsImJpbmQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJmb3JtVmFsdWVzIiwiZm9yRWFjaCIsImlucHV0IiwidmFsdWUiLCJzZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwidmFsaWRhdGlvbkNvbmZpZyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwic2V0dGluZ3MiLCJmb3JtRWxlbWVudCIsIl9pbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJfZm9ybSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJpbnB1dEVsZW1lbnQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX3Nob3dJbnB1dEVycm9yIiwiX2hpZGVJbnB1dEVycm9yIiwiZXJyb3JNZXNzYWdlRWxlbWVudCIsImlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfc3VibWl0QnV0dG9uIiwiZGlzYWJsZWQiLCJfaW5wdXRFbGVtZW50cyIsImV2ZXJ5IiwiZW5hYmxlVmFsaWRhdGlvbiIsInByZXZlbnREZWZhdWx0IiwiZGlzYWJsZUJ1dHRvbiIsInJlc2V0VmFsaWRhdGlvbiIsInVzZXJEYXRhIiwidXNlciIsImdldFVzZXJJbmZvIiwiZWRpdEZvcm1WYWxpZGF0b3IiLCJlZGl0UHJvZmlsZU1vZGFsIiwiYWRkRm9ybVZhbGlkYXRvciIsIm5ld0NhcmRQb3B1cCIsImF2YXRhck1vZGFsIiwiRm9ybVZhbGlkYXRvciIsInJlbmRlckNhcmQiLCJuZXdDYXJkIiwiaW1hZ2VEYXRhIiwiY2FyZFByZXZpZXciLCJjYXJkIiwiY29uZmlybURlbGV0ZU1vZGFsIiwiY2FyZFNlY3Rpb24iLCJhZGRJdGVtIiwiZ2FsbGVyeUNhcmRzIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9pdGVtcyIsIl9nYWxsZXJ5Q2FyZHMiLCJyZW5kZXJJdGVtcyIsIml0ZW0iLCJpdGVtRWxlbWVudCIsInByZXBlbmQiLCJfbW9kYWxQaWN0dXJlIiwiX21vZGFsUGljdHVyZURlc2NyaXB0aW9uIiwiaW5wdXRWYWx1ZXMiLCJzZXRVc2VySW5mbyIsIl9jb25maXJtRGVsZXRlQnV0dG9uIiwiX3NldEhhbmRsZXJzIiwiX2NvbmZpcm1EZWxldGUiLCJfaGFuZGxlQ29uZmlybSIsImV2ZW50IiwiX2NvbmZpcm1IYW5kbGVyIiwic2V0Q29uZmlybUhhbmRsZXIiLCJoYW5kbGVyIiwic2V0U3VibWl0QWN0aW9uIiwiYWN0aW9uIiwib3duZXJJZCIsImFwaSIsImRlbGV0ZSIsInRoZW4iLCJjYXRjaCIsImVycm9yIiwiY29uc29sZSIsInVzZXJOYW1lIiwidXNlckpvYiIsImF2YXRhciIsIl9hdmF0YXJTZWxlY3RvciIsInNldEF2YXRhciIsImxvZyIsImJhc2VVUkwiLCJoZWFkZXJzIiwiX2Jhc2VVUkwiLCJfaGVhZGVycyIsImdldEluaXRpYWxDYXJkcyIsImZldGNoIiwicmVzIiwiX2NoZWNrU2VydmVyUmVzcG9uc2UiLCJjaGFuZ2VVc2VySW5mbyIsImFib3V0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ1cmwiLCJhZGRDYXJkIiwiZGVsZXRlQ2FyZCIsImNhcmRJZCIsImNoYW5nZUxpa2VDYXJkIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImJhc2VVcmwiLCJhdXRob3JpemF0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==