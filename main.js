!function(){"use strict";class e{constructor(e,t){let{data:s,userId:r,handleImageClick:i,deleteCard:n,handleDeleteButton:o,handleLikeCard:l}=e;this._name=s.name,this._link=s.link,this._cardSelector=t,this._handleImageClick=i,this._handleDeleteButton=o,this._handleLikeCard=l,this._id=s._id,this._userId=r,this._deleteCard=n,this._likes=s.likes,this._owner=s.owner}getId(){return this._id}isLiked(){return this._likes.some((e=>e._id===this._userId))}setLikes(e){this._likes=e,this._renderLikes()}_renderLikes(){this._likesAmount=this._cardElement.querySelector(".card__like-number"),this._likesAmount.textContent=this._likes.length,this.isLiked()?this._cardElement.querySelector(".card__like-button").classList.add("card__like-button_clicked"):this._cardElement.querySelector(".card__like-button").classList.remove("card__like-button_clicked")}_setEventListeners(){this._cardElement.querySelector(".card__like-button").addEventListener("click",(()=>{this._handleLikeCard(this._id)})),this._cardElement.querySelector(".card__delete-button").addEventListener("click",(()=>{this._handleDeleteButton(this.getId())})),this._cardElement.querySelector(".card__image").addEventListener("click",(()=>{this._handleImageClick({link:this._link,text:this._text})}))}_handleImageClick(){modalPicture.src=this._link,modalPicture.alt=`Photo of ${this._name}`,modalPictureDescription.textContent=this._name,open(pictureModal)}_hideDeleteIcon(){this._deleteButton=this._cardElement.querySelector(".card__delete-button"),this._userId!==this._owner._id&&this._deleteButton.classList.add("card__delete-button-hidden")}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}getView(){return this._cardElement=this._getTemplate(),this._setEventListeners(),this._cardElement.querySelector(".card__image").src=this._link,this._cardElement.querySelector(".card__image").alt=this._name,this._cardElement.querySelector(".card__title").textContent=this._name,this._hideDeleteIcon(),this._renderLikes(),this._cardElement}remove(){this._cardElement.remove(),this._cardElement=null}}class t{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t),this._closeButton=this._popupElement.querySelector(".modal__close-button")}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscapeClose),this._closeButton.addEventListener("click",this._handleClickClose),this._popupElement.addEventListener("mousedown",this._handleClickClose)}close(){document.removeEventListener("keydown",this._handleEscapeClose),this._popupElement.removeEventListener("mousedown",this._handleClickClose),this._popupElement.classList.remove("modal_opened"),this._closeButton.removeEventListener("click",this._handleClickClose)}_handleClickClose=e=>{(e.target.classList.contains("modal_opened")||e.target.classList.contains("modal__close-button"))&&this.close()};_handleEscapeClose=e=>{"Escape"===e.key&&this.close()}}class s extends t{constructor(e){let{popupSelector:t,handleFormSubmit:s}=e;super({popupSelector:t}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._inputList=this._popupElement.querySelectorAll(".modal__input"),this._handleFormSubmit=s,this._handleSubmit=this._handleSubmit.bind(this)}_getInputValues(){const e={};return this._inputList.forEach((t=>{e[t.name]=t.value})),e}setInputValues(e){this._inputList.forEach((t=>{t.value=e[t.name]}))}_handleSubmit(){this._handleFormSubmit(this._getInputValues())}open(){this._popupForm.addEventListener("submit",this._handleSubmit),super.open()}close(){this._popupForm.removeEventListener("submit",this._handleSubmit),this._popupForm.reset(),super.close()}}class r{constructor(e,t){let{items:s,renderer:r}=e;this._renderer=r,this._items=s,this._galleryCards=document.querySelector(t)}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._galleryCards.prepend(e)}}const i={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"};var n=class{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._form=t}_checkInputValidity(e){if(!e.validity.valid)return this._showInputError(e);this._hideInputError(e)}_showInputError(e){const t=this._form.querySelector("#"+e.id+"-error");e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._form.querySelector("#"+e.id+"-error");e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}toggleButtonState(){if(this._hasInvalidInput())return this._submitButton.classList.add(this._inactiveButtonClass),void(this._submitButton.disabled=!0);this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}_hasInvalidInput(){return!this._inputElements.every((e=>e.validity.valid))}_setEventListeners(){this._inputElements=[...this._form.querySelectorAll(this._inputSelector)],this._submitButton=this._form.querySelector(this._submitButtonSelector),this._inputElements.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this.toggleButtonState()}))}))}enableValidation(){this._form.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}disableButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}resetValidation(){this._form.reset(),this.disableButton()}};const o=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then((e=>this._checkServerResponse(e)))}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then((e=>this._checkServerResponse(e)))}changeUserInfo(e,t){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then((e=>this._checkServerResponse(e)))}setAvatar(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.link})}).then((e=>this._checkServerResponse(e)))}addCard(e,t){return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then((e=>this._checkServerResponse(e)))}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then((e=>this._checkServerResponse(e)))}changeLikeNumber(e,t){return fetch(`${this._baseUrl}/cards/likes/${e}`,{method:t?"DELETE":"PUT",headers:this._headers}).then((e=>this._checkServerResponse(e)))}_checkServerResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}}({baseUrl:"https://around.nomoreparties.co/v1/cohort-3-en",headers:{authorization:"36d4ccce-10c3-4fd1-8e69-65692c768133","Content-Type":"application/json"}});document.querySelector(".profile__edit-button").addEventListener("click",(()=>{const e=k.getUserInfo();l.resetValidation(),p.open(),p.setInputValues(e)})),document.querySelector(".profile__add-button").addEventListener("click",(()=>{a.resetValidation(),m.open()})),document.querySelector(".profile__image-edit").addEventListener("click",(()=>{d.resetValidation(),b.open()}));const l=new n(i,document.querySelector("#edit-form"));l.enableValidation();const a=new n(i,document.querySelector("#add-modal").querySelector("#add-form"));a.enableValidation();const d=new n(i,document.querySelector("#avatar-form"));let c,h;d.enableValidation(),o.getUserInfo().then((e=>{c=e._id})),o.getInitialCards().then((e=>{h=new r({items:e,renderer:u},".gallery__cards"),h.renderItems()})).catch((e=>{console.error(e)}));const u=t=>{const s=new e({data:t,userId:c,handleImageClick:e=>{_.open(e)},handleDeleteClick:e=>{S.open(e)},handleLikeCard:e=>{const t=s.isLiked();o.changeLikeNumber(e,t).then((e=>{s.setLikes(e.likes)}))}},"#card-template"),r=s.getView();h.addItem(r)},_=new class extends t{constructor(e){let{popupSelector:t}=e;super({popupSelector:t}),this._modalPicture=this._popupElement.querySelector(".modal__picture"),this._modalPictureDescription=this._popupElement.querySelector(".modal__picture-description")}open(e){this._modalPicture.src=e.link,this._modalPicture.alt=`Photo of ${e.name}`,this._modalPictureDescription.textContent=e.name,super.open()}}({popupSelector:"#picture-modal"}),m=new s({popupSelector:"#add-modal",handleFormSubmit:e=>{u(e),m.close()}}),p=new s({popupSelector:"#edit-modal",handleFormSubmit:e=>{k.setUserInfo(e),p.close()}}),S=new class extends t{constructor(e){let{popupSelector:t,handleFormSubmit:s}=e;super({popupSelector:t}),this._handleFormSubmit=s,this._confirmDeleteButton=this._popupElement.querySelector("#confirm-button"),this._setHandlers()}_setHandlers(){this._confirmDelete=this._popupElement.querySelector("#confirm-button"),this._confirmDelete.addEventListener("click",this._handleConfirm.bind(this)),this._confirmDeleteButton.addEventListener("click",this._handleConfirm.bind(this))}_handleConfirm(e){e.preventDefault(),"function"==typeof this._confirmHandler&&this._confirmHandler()}open(e){super.open(),this._handleFormSubmit(e)}setConfirmHandler(e){this._confirmHandler=e}setSubmitAction(e){this._handleFormSubmit=e}}({popupSelector:"#confirm-modal",handleFormSubmit:e=>{o.deleteCard(e).then((()=>{S.close()})).catch((e=>{console.error(e)}))}}),b=new s({popupSelector:"#avatar-modal",handleFormSubmit:e=>{o.setAvatar(e).then((e=>{b.close()})).catch((e=>{console.error(e)}))}}),k=new class{constructor(e,t,s){this.userName=document.querySelector(e),this.userJob=document.querySelector(t),this._avatarSelector=document.querySelector(s)}getUserInfo(){return{userName:this.userName.textContent,userJob:this.userJob.textContent}}setUserInfo(e){let{userJob:t,userName:s}=e;this.userName.textContent=s,this.userJob.textContent=t}setAvatar(e){this._avatarSelector.src=e}}(".profile__title",".profile__description",".profile__image")}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNwQixJQUtGVCxFQUFjLElBQUloRyxFQUFjLENBQ3BDWCxjQUFlLGdCQUNmWSxpQkFBbUJpRCxJQUNqQlksRUFDR2lCLFVBQVU3QixHQUNWbUIsTUFBTUMsSUFDTDBCLEVBQVl0RyxPQUFPLElBRXBCNEcsT0FBT0csSUFDTkQsUUFBUUMsTUFBTUEsRUFBTSxHQUNwQixJQUtGZixFQUFPLElJekpFLE1BQ2I5SixZQUFZa00sRUFBVUMsRUFBUy9DLEdBQzdCM0ksS0FBS3lMLFNBQVc5SSxTQUFTbkIsY0FBY2lLLEdBQ3ZDekwsS0FBSzBMLFFBQVUvSSxTQUFTbkIsY0FBY2tLLEdBQ3RDMUwsS0FBSzJMLGdCQUFrQmhKLFNBQVNuQixjQUFjbUgsRUFDaEQsQ0FDQVIsY0FDRSxNQUFPLENBQ0xzRCxTQUFVekwsS0FBS3lMLFNBQVNoSyxZQUN4QmlLLFFBQVMxTCxLQUFLMEwsUUFBUWpLLFlBRTFCLENBQ0FxSixZQUFXdEwsR0FBd0IsSUFBdkIsUUFBRWtNLEVBQU8sU0FBRUQsR0FBVWpNLEVBQy9CUSxLQUFLeUwsU0FBU2hLLFlBQWNnSyxFQUM1QnpMLEtBQUswTCxRQUFRakssWUFBY2lLLENBQzdCLENBQ0FoRCxVQUFVQyxHQUNSM0ksS0FBSzJMLGdCQUFnQnhKLElBQU13RyxDQUM3QixHSndJQSxrQkFDQSx3QkFDQSxrQiIsInNvdXJjZXMiOlsid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy91dGlscy9Db25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm0uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICB7XHJcbiAgICAgIGRhdGEsXHJcbiAgICAgIHVzZXJJZCxcclxuICAgICAgaGFuZGxlSW1hZ2VDbGljayxcclxuICAgICAgZGVsZXRlQ2FyZCxcclxuICAgICAgaGFuZGxlRGVsZXRlQnV0dG9uLFxyXG4gICAgICBoYW5kbGVMaWtlQ2FyZCxcclxuICAgIH0sXHJcbiAgICBjYXJkU2VsZWN0b3JcclxuICApIHtcclxuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xyXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVCdXR0b24gPSBoYW5kbGVEZWxldGVCdXR0b247XHJcbiAgICB0aGlzLl9oYW5kbGVMaWtlQ2FyZCA9IGhhbmRsZUxpa2VDYXJkO1xyXG4gICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcclxuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcclxuICAgIHRoaXMuX2RlbGV0ZUNhcmQgPSBkZWxldGVDYXJkO1xyXG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xyXG4gICAgdGhpcy5fb3duZXIgPSBkYXRhLm93bmVyO1xyXG4gIH1cclxuXHJcbiAgZ2V0SWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faWQ7XHJcbiAgfVxyXG5cclxuICBpc0xpa2VkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2xpa2VzLnNvbWUoKGxpa2UpID0+IGxpa2UuX2lkID09PSB0aGlzLl91c2VySWQpO1xyXG4gIH1cclxuICBzZXRMaWtlcyhsaWtlcykge1xyXG4gICAgdGhpcy5fbGlrZXMgPSBsaWtlcztcclxuICAgIHRoaXMuX3JlbmRlckxpa2VzKCk7XHJcbiAgfVxyXG4gIF9yZW5kZXJMaWtlcygpIHtcclxuICAgIHRoaXMuX2xpa2VzQW1vdW50ID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLW51bWJlclwiKTtcclxuICAgIHRoaXMuX2xpa2VzQW1vdW50LnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xyXG4gICAgaWYgKHRoaXMuaXNMaWtlZCgpKSB7XHJcbiAgICAgIHRoaXMuX2NhcmRFbGVtZW50XHJcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIilcclxuICAgICAgICAuY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2UtYnV0dG9uX2NsaWNrZWRcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9jYXJkRWxlbWVudFxyXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpXHJcbiAgICAgICAgLmNsYXNzTGlzdC5yZW1vdmUoXCJjYXJkX19saWtlLWJ1dHRvbl9jbGlja2VkXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlTGlrZUNhcmQodGhpcy5faWQpO1xyXG4gICAgICB9KTtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQnV0dG9uKHRoaXMuZ2V0SWQoKSk7XHJcbiAgICAgIH0pO1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh7IGxpbms6IHRoaXMuX2xpbmssIHRleHQ6IHRoaXMuX3RleHQgfSk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUltYWdlQ2xpY2soKSB7XHJcbiAgICBtb2RhbFBpY3R1cmUuc3JjID0gdGhpcy5fbGluaztcclxuICAgIG1vZGFsUGljdHVyZS5hbHQgPSBgUGhvdG8gb2YgJHt0aGlzLl9uYW1lfWA7XHJcbiAgICBtb2RhbFBpY3R1cmVEZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICBvcGVuKHBpY3R1cmVNb2RhbCk7XHJcbiAgfVxyXG5cclxuICBfaGlkZURlbGV0ZUljb24oKSB7XHJcbiAgICB0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5jYXJkX19kZWxldGUtYnV0dG9uXCJcclxuICAgICk7XHJcbiAgICBpZiAodGhpcy5fdXNlcklkICE9PSB0aGlzLl9vd25lci5faWQpIHtcclxuICAgICAgdGhpcy5fZGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19kZWxldGUtYnV0dG9uLWhpZGRlblwiKTtcclxuICAgIH1cclxuICB9XHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgcmV0dXJuIGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgfVxyXG5cclxuICBnZXRWaWV3KCkge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIikuc3JjID0gdGhpcy5fbGluaztcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIikuYWx0ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIikudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5faGlkZURlbGV0ZUljb24oKTtcclxuICAgIHRoaXMuX3JlbmRlckxpa2VzKCk7XHJcbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICByZW1vdmUoKSB7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gbnVsbDtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciB9KSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fY2xvc2VCdXR0b24gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIubW9kYWxfX2Nsb3NlLWJ1dHRvblwiXHJcbiAgICApO1xyXG4gIH1cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NhcGVDbG9zZSk7XHJcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlQ2xpY2tDbG9zZSk7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLl9oYW5kbGVDbGlja0Nsb3NlKTtcclxuICB9XHJcbiAgY2xvc2UoKSB7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NhcGVDbG9zZSk7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLl9oYW5kbGVDbGlja0Nsb3NlKTtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gICAgdGhpcy5fY2xvc2VCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZUNsaWNrQ2xvc2UpO1xyXG4gIH1cclxuICBfaGFuZGxlQ2xpY2tDbG9zZSA9IChldnQpID0+IHtcclxuICAgIGlmIChcclxuICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9vcGVuZWRcIikgfHxcclxuICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9fY2xvc2UtYnV0dG9uXCIpXHJcbiAgICApIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIF9oYW5kbGVFc2NhcGVDbG9zZSA9IChldnQpID0+IHtcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9O1xyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCB9KSB7XHJcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19pbnB1dFwiKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5faGFuZGxlU3VibWl0ID0gdGhpcy5faGFuZGxlU3VibWl0LmJpbmQodGhpcyk7XHJcbiAgfVxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIGNvbnN0IGZvcm1WYWx1ZXMgPSB7fTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBmb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBmb3JtVmFsdWVzO1xyXG4gIH1cclxuICBzZXRJbnB1dFZhbHVlcyhkYXRhKSB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgaW5wdXQudmFsdWUgPSBkYXRhW2lucHV0Lm5hbWVdO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlU3VibWl0KCkge1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICB9XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLl9oYW5kbGVTdWJtaXQpO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwRm9ybS5yZW1vdmVFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX2hhbmRsZVN1Ym1pdCk7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0ucmVzZXQoKTtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGdhbGxlcnlDYXJkcykge1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XHJcbiAgICB0aGlzLl9nYWxsZXJ5Q2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGdhbGxlcnlDYXJkcyk7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcygpIHtcclxuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oaXRlbUVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2dhbGxlcnlDYXJkcy5wcmVwZW5kKGl0ZW1FbGVtZW50KTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNvbnN0IHNlbGVjdG9ycyA9IHtcclxuICBjYXJkU2VjdGlvbjogXCIuZ2FsbGVyeV9fY2FyZHNcIixcclxuICBjYXJkVGVtcGxhdGU6IFwiI2NhcmQtdGVtcGxhdGVcIixcclxuICBwcmV2aWV3UG9wdXA6IFwiLm1vZGFsX3ByZXZpZXdcIixcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB2YWxpZGF0aW9uQ29uZmlnID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm1cIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX2J1dHRvblwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX2J1dHRvbl9kaXNhYmxlZFwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcclxufTtcclxuIiwiY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gc2V0dGluZ3MuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gc2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHNldHRpbmdzLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBzZXR0aW5ncy5lcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZm9ybSA9IGZvcm1FbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiI1wiICsgaW5wdXRFbGVtZW50LmlkICsgXCItZXJyb3JcIlxyXG4gICAgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvck1lc3NhZ2VFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgZXJyb3JNZXNzYWdlRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZXJyb3JNZXNzYWdlRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIjXCIgKyBpbnB1dEVsZW1lbnQuaWQgKyBcIi1lcnJvclwiXHJcbiAgICApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yTWVzc2FnZUVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgZXJyb3JNZXNzYWdlRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuICB0b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICByZXR1cm4gIXRoaXMuX2lucHV0RWxlbWVudHMuZXZlcnkoXHJcbiAgICAgIChpbnB1dEVsZW1lbnQpID0+IGlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZFxyXG4gICAgKTtcclxuICB9XHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5faW5wdXRFbGVtZW50cyA9IFsuLi50aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcildO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2lucHV0RWxlbWVudHMuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuICBkaXNhYmxlQnV0dG9uKCkge1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gIH1cclxuICByZXNldFZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XHJcbiAgICB0aGlzLmRpc2FibGVCdXR0b24oKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3I7IiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCB7IHNlbGVjdG9ycywgdmFsaWRhdGlvbkNvbmZpZyB9IGZyb20gXCIuLi91dGlscy9Db25zdGFudHMuanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybVwiO1xyXG5cclxuLy8gQVBJXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtMy1lblwiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiMzZkNGNjY2UtMTBjMy00ZmQxLThlNjktNjU2OTJjNzY4MTMzXCIsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICB9LFxyXG59KTtcclxuXHJcbi8vIFBPUFVQIEJVVFRPTlNcclxuLy9lZGl0XHJcbmNvbnN0IG9wZW5FZGl0UG9wdXBCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xyXG5vcGVuRWRpdFBvcHVwQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgY29uc3QgdXNlckRhdGEgPSB1c2VyLmdldFVzZXJJbmZvKCk7XHJcbiAgZWRpdEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgZWRpdFByb2ZpbGVNb2RhbC5vcGVuKCk7XHJcbiAgZWRpdFByb2ZpbGVNb2RhbC5zZXRJbnB1dFZhbHVlcyh1c2VyRGF0YSk7XHJcbn0pO1xyXG4vL2FkZFxyXG5jb25zdCBvcGVuQWRkUG9wdXBCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XHJcbm9wZW5BZGRQb3B1cEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGFkZEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgbmV3Q2FyZFBvcHVwLm9wZW4oKTtcclxufSk7XHJcblxyXG4vLyBhdmF0YXJcclxuY29uc3Qgb3BlbkF2YXRhclBvcHVwQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbWFnZS1lZGl0XCIpO1xyXG5vcGVuQXZhdGFyUG9wdXBCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBhdmF0YXJGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gIGF2YXRhck1vZGFsLm9wZW4oKTtcclxufSk7XHJcblxyXG4vLyBGb3JtIFZhbGlkYXRvclxyXG5jb25zdCBlZGl0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdC1mb3JtXCIpO1xyXG5jb25zdCBlZGl0Rm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIGVkaXRGb3JtKTtcclxuZWRpdEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5jb25zdCBhZGRQcm9maWxlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1tb2RhbFwiKTtcclxuY29uc3QgYWRkRm9ybSA9IGFkZFByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1mb3JtXCIpO1xyXG5jb25zdCBhZGRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgYWRkRm9ybSk7XHJcbmFkZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5jb25zdCBhdmF0YXJGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhdmF0YXItZm9ybVwiKTtcclxuY29uc3QgYXZhdGFyRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIGF2YXRhckZvcm0pO1xyXG5hdmF0YXJGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmxldCB1c2VySWQ7XHJcbmFwaS5nZXRVc2VySW5mbygpLnRoZW4oKHVzZXJPYmplY3QpID0+IHtcclxuICB1c2VySWQgPSB1c2VyT2JqZWN0Ll9pZDtcclxufSk7XHJcbi8vQ2FyZHNcclxubGV0IGNhcmRTZWN0aW9uO1xyXG5hcGlcclxuICAuZ2V0SW5pdGlhbENhcmRzKClcclxuICAudGhlbigoY2FyZHMpID0+IHtcclxuICAgIGNhcmRTZWN0aW9uID0gbmV3IFNlY3Rpb24oXHJcbiAgICAgIHtcclxuICAgICAgICBpdGVtczogY2FyZHMsXHJcbiAgICAgICAgcmVuZGVyZXI6IHJlbmRlckNhcmQsXHJcbiAgICAgIH0sXHJcbiAgICAgIHNlbGVjdG9ycy5jYXJkU2VjdGlvblxyXG4gICAgKTtcclxuICAgIGNhcmRTZWN0aW9uLnJlbmRlckl0ZW1zKCk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gIH0pO1xyXG5cclxuY29uc3QgcmVuZGVyQ2FyZCA9IChkYXRhKSA9PiB7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBuZXcgQ2FyZChcclxuICAgIHtcclxuICAgICAgZGF0YSxcclxuICAgICAgdXNlcklkLFxyXG4gICAgICBoYW5kbGVJbWFnZUNsaWNrOiAoaW1hZ2VEYXRhKSA9PiB7XHJcbiAgICAgICAgY2FyZFByZXZpZXcub3BlbihpbWFnZURhdGEpO1xyXG4gICAgICB9LFxyXG4gICAgICBoYW5kbGVEZWxldGVDbGljazogKGlkKSA9PiB7XHJcbiAgICAgICAgY29uZmlybURlbGV0ZU1vZGFsLm9wZW4oaWQpO1xyXG4gICAgICB9LFxyXG4gICAgICBoYW5kbGVMaWtlQ2FyZDogKGlkKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaXNMaWtlZCA9IGNhcmRFbGVtZW50LmlzTGlrZWQoKTtcclxuICAgICAgICBhcGkuY2hhbmdlTGlrZU51bWJlcihpZCwgaXNMaWtlZCkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICBjYXJkRWxlbWVudC5zZXRMaWtlcyhyZXMubGlrZXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHNlbGVjdG9ycy5jYXJkVGVtcGxhdGVcclxuICApO1xyXG4gIGNvbnN0IG5ld0NhcmQgPSBjYXJkRWxlbWVudC5nZXRWaWV3KCk7XHJcbiAgY2FyZFNlY3Rpb24uYWRkSXRlbShuZXdDYXJkKTtcclxufTtcclxuXHJcbi8vIFBvcHVwIHdpdGggSW1hZ2VcclxuY29uc3QgY2FyZFByZXZpZXcgPSBuZXcgUG9wdXBXaXRoSW1hZ2Uoe1xyXG4gIHBvcHVwU2VsZWN0b3I6IFwiI3BpY3R1cmUtbW9kYWxcIixcclxufSk7XHJcblxyXG4vLyBQb3B1cCB3aXRoIGZvcm1cclxuY29uc3QgbmV3Q2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gIHBvcHVwU2VsZWN0b3I6IFwiI2FkZC1tb2RhbFwiLFxyXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChpbnB1dFZhbHVlcykgPT4ge1xyXG4gICAgcmVuZGVyQ2FyZChpbnB1dFZhbHVlcyk7XHJcbiAgICBuZXdDYXJkUG9wdXAuY2xvc2UoKTtcclxuICB9LFxyXG59KTtcclxuY29uc3QgZWRpdFByb2ZpbGVNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICBwb3B1cFNlbGVjdG9yOiBcIiNlZGl0LW1vZGFsXCIsXHJcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGlucHV0VmFsdWVzKSA9PiB7XHJcbiAgICB1c2VyLnNldFVzZXJJbmZvKGlucHV0VmFsdWVzKTtcclxuICAgIGVkaXRQcm9maWxlTW9kYWwuY2xvc2UoKTtcclxuICB9LFxyXG59KTtcclxuXHJcbi8vUG9wdXAgd2l0aCBDb25maXJtXHJcbmNvbnN0IGNvbmZpcm1EZWxldGVNb2RhbCA9IG5ldyBQb3B1cFdpdGhDb25maXJtKHtcclxuICBwb3B1cFNlbGVjdG9yOiBcIiNjb25maXJtLW1vZGFsXCIsXHJcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGlkKSA9PiB7XHJcbiAgICBhcGlcclxuICAgICAgLmRlbGV0ZUNhcmQoaWQpXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICBjb25maXJtRGVsZXRlTW9kYWwuY2xvc2UoKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgICB9KTtcclxuICB9LFxyXG59KTtcclxuXHJcbi8vIEF2YXRhciBQb3B1cFxyXG5jb25zdCBhdmF0YXJNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICBwb3B1cFNlbGVjdG9yOiBcIiNhdmF0YXItbW9kYWxcIixcclxuICBoYW5kbGVGb3JtU3VibWl0OiAoaWQpID0+IHtcclxuICAgIGFwaVxyXG4gICAgICAuc2V0QXZhdGFyKGlkKVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgYXZhdGFyTW9kYWwuY2xvc2UoKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgICB9KTtcclxuICB9LFxyXG59KTtcclxuXHJcbi8vIFVzZXIgSW5mb1xyXG5jb25zdCB1c2VyID0gbmV3IFVzZXJJbmZvKFxyXG4gIFwiLnByb2ZpbGVfX3RpdGxlXCIsXHJcbiAgXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIixcclxuICBcIi5wcm9maWxlX19pbWFnZVwiXHJcbik7XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcclxuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XHJcbiAgfVxyXG5cclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2NoZWNrU2VydmVyUmVzcG9uc2UocmVzKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2NoZWNrU2VydmVyUmVzcG9uc2UocmVzKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY2hhbmdlVXNlckluZm8obmFtZSwgYWJvdXQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgIGFib3V0OiBhYm91dCxcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2NoZWNrU2VydmVyUmVzcG9uc2UocmVzKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2V0QXZhdGFyKGF2YXRhcikge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhdmF0YXI6IGF2YXRhci5saW5rLFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fY2hlY2tTZXJ2ZXJSZXNwb25zZShyZXMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhZGRDYXJkKG5hbWUsIGxpbmspIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgbGluazogbGluayxcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2NoZWNrU2VydmVyUmVzcG9uc2UocmVzKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZChnZXRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Z2V0SWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2NoZWNrU2VydmVyUmVzcG9uc2UocmVzKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY2hhbmdlTGlrZU51bWJlcihnZXRJZCwgaXNMaWtlZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Z2V0SWR9YCwge1xyXG4gICAgICBtZXRob2Q6IGlzTGlrZWQgPyBcIkRFTEVURVwiIDogXCJQVVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fY2hlY2tTZXJ2ZXJSZXNwb25zZShyZXMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIF9jaGVja1NlcnZlclJlc3BvbnNlKHJlcykge1xyXG4gICAgcmV0dXJuIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCI7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciB9KSB7XHJcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XHJcbiAgICB0aGlzLl9tb2RhbFBpY3R1cmUgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fcGljdHVyZVwiKTtcclxuICAgIHRoaXMuX21vZGFsUGljdHVyZURlc2NyaXB0aW9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLm1vZGFsX19waWN0dXJlLWRlc2NyaXB0aW9uXCJcclxuICAgICk7XHJcbiAgfVxyXG4gIG9wZW4oZGF0YSkge1xyXG4gICAgdGhpcy5fbW9kYWxQaWN0dXJlLnNyYyA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX21vZGFsUGljdHVyZS5hbHQgPSBgUGhvdG8gb2YgJHtkYXRhLm5hbWV9YDtcclxuICAgIHRoaXMuX21vZGFsUGljdHVyZURlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0IH0pIHtcclxuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5fY29uZmlybURlbGV0ZUJ1dHRvbiA9XHJcbiAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbmZpcm0tYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5fc2V0SGFuZGxlcnMoKTtcclxuICB9XHJcblxyXG4gIF9zZXRIYW5kbGVycygpIHtcclxuICAgIHRoaXMuX2NvbmZpcm1EZWxldGUgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIiNjb25maXJtLWJ1dHRvblwiKTtcclxuICAgIHRoaXMuX2NvbmZpcm1EZWxldGUuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgXCJjbGlja1wiLFxyXG4gICAgICB0aGlzLl9oYW5kbGVDb25maXJtLmJpbmQodGhpcylcclxuICAgICk7XHJcbiAgICB0aGlzLl9jb25maXJtRGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIFwiY2xpY2tcIixcclxuICAgICAgdGhpcy5faGFuZGxlQ29uZmlybS5iaW5kKHRoaXMpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUNvbmZpcm0oZXZlbnQpIHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBpZiAodHlwZW9mIHRoaXMuX2NvbmZpcm1IYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgdGhpcy5fY29uZmlybUhhbmRsZXIoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9wZW4oaWQpIHtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQoaWQpO1xyXG4gIH1cclxuXHJcbiAgc2V0Q29uZmlybUhhbmRsZXIoaGFuZGxlcikge1xyXG4gICAgdGhpcy5fY29uZmlybUhhbmRsZXIgPSBoYW5kbGVyO1xyXG4gIH1cclxuXHJcbiAgc2V0U3VibWl0QWN0aW9uKGFjdGlvbikge1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGFjdGlvbjtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHVzZXJOYW1lLCB1c2VySm9iLCBhdmF0YXIpIHtcclxuICAgIHRoaXMudXNlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJOYW1lKTtcclxuICAgIHRoaXMudXNlckpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlckpvYik7XHJcbiAgICB0aGlzLl9hdmF0YXJTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyKTtcclxuICB9XHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB1c2VyTmFtZTogdGhpcy51c2VyTmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgdXNlckpvYjogdGhpcy51c2VySm9iLnRleHRDb250ZW50LFxyXG4gICAgfTtcclxuICB9XHJcbiAgc2V0VXNlckluZm8oeyB1c2VySm9iLCB1c2VyTmFtZSB9KSB7XHJcbiAgICB0aGlzLnVzZXJOYW1lLnRleHRDb250ZW50ID0gdXNlck5hbWU7XHJcbiAgICB0aGlzLnVzZXJKb2IudGV4dENvbnRlbnQgPSB1c2VySm9iO1xyXG4gIH1cclxuICBzZXRBdmF0YXIoYXZhdGFyKSB7XHJcbiAgICB0aGlzLl9hdmF0YXJTZWxlY3Rvci5zcmMgPSBhdmF0YXI7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJDYXJkIiwiY29uc3RydWN0b3IiLCJfcmVmIiwiY2FyZFNlbGVjdG9yIiwiZGF0YSIsInVzZXJJZCIsImhhbmRsZUltYWdlQ2xpY2siLCJkZWxldGVDYXJkIiwiaGFuZGxlRGVsZXRlQnV0dG9uIiwiaGFuZGxlTGlrZUNhcmQiLCJ0aGlzIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiX2hhbmRsZURlbGV0ZUJ1dHRvbiIsIl9oYW5kbGVMaWtlQ2FyZCIsIl9pZCIsIl91c2VySWQiLCJfZGVsZXRlQ2FyZCIsIl9saWtlcyIsImxpa2VzIiwiX293bmVyIiwib3duZXIiLCJnZXRJZCIsImlzTGlrZWQiLCJzb21lIiwibGlrZSIsInNldExpa2VzIiwiX3JlbmRlckxpa2VzIiwiX2xpa2VzQW1vdW50IiwiX2NhcmRFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsInRleHRDb250ZW50IiwibGVuZ3RoIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsInRleHQiLCJfdGV4dCIsIm1vZGFsUGljdHVyZSIsInNyYyIsImFsdCIsIm1vZGFsUGljdHVyZURlc2NyaXB0aW9uIiwib3BlbiIsInBpY3R1cmVNb2RhbCIsIl9oaWRlRGVsZXRlSWNvbiIsIl9kZWxldGVCdXR0b24iLCJfZ2V0VGVtcGxhdGUiLCJkb2N1bWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJnZXRWaWV3IiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIl9jbG9zZUJ1dHRvbiIsIl9oYW5kbGVFc2NhcGVDbG9zZSIsIl9oYW5kbGVDbGlja0Nsb3NlIiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0IiwidGFyZ2V0IiwiY29udGFpbnMiLCJrZXkiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX3BvcHVwRm9ybSIsIl9pbnB1dExpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfaGFuZGxlU3VibWl0IiwiYmluZCIsIl9nZXRJbnB1dFZhbHVlcyIsImZvcm1WYWx1ZXMiLCJmb3JFYWNoIiwiaW5wdXQiLCJ2YWx1ZSIsInNldElucHV0VmFsdWVzIiwicmVzZXQiLCJTZWN0aW9uIiwiZ2FsbGVyeUNhcmRzIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9pdGVtcyIsIl9nYWxsZXJ5Q2FyZHMiLCJyZW5kZXJJdGVtcyIsIml0ZW0iLCJhZGRJdGVtIiwiaXRlbUVsZW1lbnQiLCJwcmVwZW5kIiwidmFsaWRhdGlvbkNvbmZpZyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwic2V0dGluZ3MiLCJmb3JtRWxlbWVudCIsIl9pbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJfZm9ybSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJpbnB1dEVsZW1lbnQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX3Nob3dJbnB1dEVycm9yIiwiX2hpZGVJbnB1dEVycm9yIiwiZXJyb3JNZXNzYWdlRWxlbWVudCIsImlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfc3VibWl0QnV0dG9uIiwiZGlzYWJsZWQiLCJfaW5wdXRFbGVtZW50cyIsImV2ZXJ5IiwiZW5hYmxlVmFsaWRhdGlvbiIsInByZXZlbnREZWZhdWx0IiwiZGlzYWJsZUJ1dHRvbiIsInJlc2V0VmFsaWRhdGlvbiIsImFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsImdldEluaXRpYWxDYXJkcyIsImZldGNoIiwidGhlbiIsInJlcyIsIl9jaGVja1NlcnZlclJlc3BvbnNlIiwiZ2V0VXNlckluZm8iLCJjaGFuZ2VVc2VySW5mbyIsImFib3V0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzZXRBdmF0YXIiLCJhdmF0YXIiLCJhZGRDYXJkIiwiY2hhbmdlTGlrZU51bWJlciIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJhdXRob3JpemF0aW9uIiwidXNlckRhdGEiLCJ1c2VyIiwiZWRpdEZvcm1WYWxpZGF0b3IiLCJlZGl0UHJvZmlsZU1vZGFsIiwiYWRkRm9ybVZhbGlkYXRvciIsIm5ld0NhcmRQb3B1cCIsImF2YXRhckZvcm1WYWxpZGF0b3IiLCJhdmF0YXJNb2RhbCIsIkZvcm1WYWxpZGF0b3IiLCJjYXJkU2VjdGlvbiIsInVzZXJPYmplY3QiLCJjYXJkcyIsInJlbmRlckNhcmQiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImNhcmRFbGVtZW50IiwiaW1hZ2VEYXRhIiwiY2FyZFByZXZpZXciLCJoYW5kbGVEZWxldGVDbGljayIsImNvbmZpcm1EZWxldGVNb2RhbCIsIm5ld0NhcmQiLCJfbW9kYWxQaWN0dXJlIiwiX21vZGFsUGljdHVyZURlc2NyaXB0aW9uIiwiaW5wdXRWYWx1ZXMiLCJzZXRVc2VySW5mbyIsIl9jb25maXJtRGVsZXRlQnV0dG9uIiwiX3NldEhhbmRsZXJzIiwiX2NvbmZpcm1EZWxldGUiLCJfaGFuZGxlQ29uZmlybSIsImV2ZW50IiwiX2NvbmZpcm1IYW5kbGVyIiwic2V0Q29uZmlybUhhbmRsZXIiLCJoYW5kbGVyIiwic2V0U3VibWl0QWN0aW9uIiwiYWN0aW9uIiwidXNlck5hbWUiLCJ1c2VySm9iIiwiX2F2YXRhclNlbGVjdG9yIl0sInNvdXJjZVJvb3QiOiIifQ==