!function(){"use strict";class e{constructor(e,t){let{data:s,userId:r,handleImageClick:i,deleteCard:n,handleDeleteClick:o}=e;this._name=s.name,this._link=s.link,this._cardSelector=t,this._handleImageClick=i,this._handleDeleteButton=o,this._id=s._id,this._userId=r,this._deleteCard=n,this._likes=s.likes,this._owner=s.owner}getId(){return this._id}isLiked(){return this._likes.some((e=>e._id===this._userId))}setLikes(e){this._likes=e,this.renderLikes()}_renderLikes(){this._likesAmount=this._cardElement.querySelector(".card__like-number"),this._likesAmount.textContent=this._likes.length,this.isLiked()?this._cardElement.querySelector(".card__like-button").classList.add("card__like-button_clicked"):this._cardElement.querySelector(".card__like-button").classList.remove("card__like-button_clicked")}_setEventListeners(){this._cardElement.querySelector(".card__like-button").addEventListener("click",(()=>{this._handleLikeIcon()})),this._cardElement.querySelector(".card__delete-button").addEventListener("click",(()=>{this._handleDeleteButton(this.getId())})),this._cardElement.querySelector(".card__image").addEventListener("click",(()=>{this._handleImageClick({link:this._link,text:this._text})}))}_handleLikeIcon(){this._cardElement.querySelector(".card__like-button").classList.toggle("card__like-button_clicked")}_handleImageClick(){modalPicture.src=this._link,modalPicture.alt=`Photo of ${this._name}`,modalPictureDescription.textContent=this._name,open(pictureModal)}_hideDeleteIcon(){this._deleteButton=this._cardElement.querySelector(".card__delete-button"),this._userId!==this._owner._id&&this._deleteButton.classList.add("card__delete-button-hidden")}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}getView(){return this._cardElement=this._getTemplate(),this._setEventListeners(),this._cardElement.querySelector(".card__image").src=this._link,this._cardElement.querySelector(".card__image").alt=this._name,this._cardElement.querySelector(".card__title").textContent=this._name,this._hideDeleteIcon(),this._renderLikes(),this._cardElement}remove(){this._cardElement.remove(),this._cardElement=null}}class t{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t),this._closeButton=this._popupElement.querySelector(".modal__close-button")}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscapeClose),this._closeButton.addEventListener("click",this._handleClickClose),this._popupElement.addEventListener("mousedown",this._handleClickClose)}close(){document.removeEventListener("keydown",this._handleEscapeClose),this._popupElement.removeEventListener("mousedown",this._handleClickClose),this._popupElement.classList.remove("modal_opened"),this._closeButton.removeEventListener("click",this._handleClickClose)}_handleClickClose=e=>{(e.target.classList.contains("modal_opened")||e.target.classList.contains("modal__close-button"))&&this.close()};_handleEscapeClose=e=>{"Escape"===e.key&&this.close()}}class s extends t{constructor(e){let{popupSelector:t,handleFormSubmit:s}=e;super({popupSelector:t}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._inputList=this._popupElement.querySelectorAll(".modal__input"),this._handleFormSubmit=s,this._handleSubmit=this._handleSubmit.bind(this)}_getInputValues(){const e={};return this._inputList.forEach((t=>{e[t.name]=t.value})),e}setInputValues(e){this._inputList.forEach((t=>{t.value=e[t.name]}))}_handleSubmit(){this._handleFormSubmit(this._getInputValues())}open(){this._popupForm.addEventListener("submit",this._handleSubmit),super.open()}close(){this._popupForm.removeEventListener("submit",this._handleSubmit),this._popupForm.reset(),super.close()}}class r{constructor(e,t){let{items:s,renderer:r}=e;this._renderer=r,this._items=s,this._galleryCards=document.querySelector(t)}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._galleryCards.prepend(e)}}const i={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"};var n=class{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._form=t}_checkInputValidity(e){if(!e.validity.valid)return this._showInputError(e);this._hideInputError(e)}_showInputError(e){const t=this._form.querySelector("#"+e.id+"-error");e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._form.querySelector("#"+e.id+"-error");e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}toggleButtonState(){if(this._hasInvalidInput())return this._submitButton.classList.add(this._inactiveButtonClass),void(this._submitButton.disabled=!0);this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}_hasInvalidInput(){return!this._inputElements.every((e=>e.validity.valid))}_setEventListeners(){this._inputElements=[...this._form.querySelectorAll(this._inputSelector)],this._submitButton=this._form.querySelector(this._submitButtonSelector),this._inputElements.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this.toggleButtonState()}))}))}enableValidation(){this._form.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}disableButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}resetValidation(){this._form.reset(),this.disableButton()}};const o=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then((e=>this._checkServerResponse(e)))}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then((e=>this._checkServerResponse(e)))}changeUserInfo(e,t){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then((e=>this._checkServerResponse(e)))}setAvatar(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.url})}).then((e=>this._checkServerResponse(e)))}addCard(e,t){return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then((e=>this._checkServerResponse(e)))}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then((e=>this._checkServerResponse(e)))}changeLikeCard(e,t){return fetch(`${this._baseUrl}/cards/likes/${e}`,{method:t?"DELETE":"PUT",headers:this._headers}).then((e=>this._checkServerResponse(e)))}_checkServerResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}}({baseUrl:"https://around.nomoreparties.co/v1/cohort-3-en",headers:{authorization:"36d4ccce-10c3-4fd1-8e69-65692c768133","Content-Type":"application/json"}});document.querySelector(".profile__edit-button").addEventListener("click",(()=>{const e=b.getUserInfo();l.resetValidation(),m.open(),m.setInputValues(e)})),document.querySelector(".profile__add-button").addEventListener("click",(()=>{a.resetValidation(),_.open()})),document.querySelector(".profile__image").addEventListener("click",(()=>{c.resetValidation(),S.open()}));const l=new n(i,document.querySelector("#edit-form"));l.enableValidation();const a=new n(i,document.querySelector("#add-modal").querySelector("#add-form"));a.enableValidation();const c=new n(i,document.querySelector("#avatar-form"));let d;c.enableValidation(),o.getInitialCards().then((e=>{d=new r({items:e,renderer:h},".gallery__cards"),d.renderItems()})).catch((e=>{console.error(e)}));const h=t=>{const s=new e({data:t,handleImageClick:e=>{u.open(e)},handleDeleteClick:e=>{p.open(e)}},"#card-template").getView();d.addItem(s)},u=new class extends t{constructor(e){let{popupSelector:t}=e;super({popupSelector:t}),this._modalPicture=this._popupElement.querySelector(".modal__picture"),this._modalPictureDescription=this._popupElement.querySelector(".modal__picture-description")}open(e){this._modalPicture.src=e.link,this._modalPicture.alt=`Photo of ${e.name}`,this._modalPictureDescription.textContent=e.name,super.open()}}({popupSelector:"#picture-modal"}),_=new s({popupSelector:"#add-modal",handleFormSubmit:e=>{h(e),_.close()}}),m=new s({popupSelector:"#edit-modal",handleFormSubmit:e=>{b.setUserInfo(e),m.close()}}),p=new class extends t{constructor(e){let{popupSelector:t,handleFormSubmit:s}=e;super({popupSelector:t}),this._handleFormSubmit=s,this._confirmDeleteButton=this._popupElement.querySelector("#confirm-button"),this._setHandlers()}_setHandlers(){this._confirmDelete=this._popupElement.querySelector("#confirm-button"),this._confirmDelete.addEventListener("click",this._handleConfirm.bind(this)),this._confirmDeleteButton.addEventListener("click",this._handleConfirm.bind(this))}_handleConfirm(e){e.preventDefault(),"function"==typeof this._confirmHandler&&this._confirmHandler()}open(e){super.open(),this._handleFormSubmit(e)}setConfirmHandler(e){this._confirmHandler=e}setSubmitAction(e){this._handleFormSubmit=e}}({popupSelector:"#confirm-modal",handleFormSubmit:e=>{o.deleteCard(e).then((()=>{p.close()})).catch((e=>{console.error(e)}))}}),S=new s({popupSelector:"#avatar-modal",handleFormSubmit:()=>{S.close()}}),b=new class{constructor(e,t,s){this.userName=document.querySelector(e),this.userJob=document.querySelector(t),this._avatarSelector=document.querySelector(s)}getUserInfo(){return{userName:this.userName.textContent,userJob:this.userJob.textContent}}setUserInfo(e){let{userJob:t,userName:s}=e;this.userName.textContent=s,this.userJob.textContent=t}setAvatar(e){this._avatarSelector.src=e,console.log(e)}}(".profile__title",".profile__description",".profile__image")}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBQ3RDMUwsS0FBSzJMLGdCQUFrQjlJLFNBQVNyQixjQUFjcUgsRUFDaEQsQ0FDQVIsY0FDRSxNQUFPLENBQ0xvRCxTQUFVekwsS0FBS3lMLFNBQVNoSyxZQUN4QmlLLFFBQVMxTCxLQUFLMEwsUUFBUWpLLFlBRTFCLENBQ0FxSixZQUFXckwsR0FBd0IsSUFBdkIsUUFBRWlNLEVBQU8sU0FBRUQsR0FBVWhNLEVBQy9CTyxLQUFLeUwsU0FBU2hLLFlBQWNnSyxFQUM1QnpMLEtBQUswTCxRQUFRakssWUFBY2lLLENBQzdCLENBQ0E5QyxVQUFVQyxHQUNSN0ksS0FBSzJMLGdCQUFnQnRKLElBQU13RyxFQUMzQndCLFFBQVF1QixJQUFJL0MsRUFDZCxHSnNIQSxrQkFDQSx3QkFDQSxrQiIsInNvdXJjZXMiOlsid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy91dGlscy9Db25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm0uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICB7IGRhdGEsIHVzZXJJZCwgaGFuZGxlSW1hZ2VDbGljaywgZGVsZXRlQ2FyZCwgaGFuZGxlRGVsZXRlQ2xpY2sgfSxcclxuICAgIGNhcmRTZWxlY3RvclxyXG4gICkge1xyXG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XHJcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUJ1dHRvbiA9IGhhbmRsZURlbGV0ZUNsaWNrO1xyXG4gICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcclxuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcclxuICAgIHRoaXMuX2RlbGV0ZUNhcmQgPSBkZWxldGVDYXJkO1xyXG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xyXG4gICAgdGhpcy5fb3duZXIgPSBkYXRhLm93bmVyO1xyXG4gIH1cclxuXHJcbiAgZ2V0SWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faWQ7XHJcbiAgfVxyXG4gIGlzTGlrZWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fbGlrZXMuc29tZSgobGlrZSkgPT4gbGlrZS5faWQgPT09IHRoaXMuX3VzZXJJZCk7XHJcbiAgfVxyXG4gIHNldExpa2VzKGxpa2VzKSB7XHJcbiAgICB0aGlzLl9saWtlcyA9IGxpa2VzO1xyXG4gICAgdGhpcy5yZW5kZXJMaWtlcygpO1xyXG4gIH1cclxuICBfcmVuZGVyTGlrZXMoKSB7XHJcbiAgICB0aGlzLl9saWtlc0Ftb3VudCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1udW1iZXJcIik7XHJcbiAgICB0aGlzLl9saWtlc0Ftb3VudC50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuICAgIGlmICh0aGlzLmlzTGlrZWQoKSkge1xyXG4gICAgICB0aGlzLl9jYXJkRWxlbWVudFxyXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpXHJcbiAgICAgICAgLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19saWtlLWJ1dHRvbl9jbGlja2VkXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fY2FyZEVsZW1lbnRcclxuICAgICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKVxyXG4gICAgICAgIC5jbGFzc0xpc3QucmVtb3ZlKFwiY2FyZF9fbGlrZS1idXR0b25fY2xpY2tlZFwiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUxpa2VJY29uKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVsZXRlLWJ1dHRvblwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9oYW5kbGVEZWxldGVCdXR0b24odGhpcy5nZXRJZCgpKTtcclxuICAgICAgfSk7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHsgbGluazogdGhpcy5fbGluaywgdGV4dDogdGhpcy5fdGV4dCB9KTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlTGlrZUljb24oKSB7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKVxyXG4gICAgICAuY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2xpa2UtYnV0dG9uX2NsaWNrZWRcIik7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlSW1hZ2VDbGljaygpIHtcclxuICAgIG1vZGFsUGljdHVyZS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgbW9kYWxQaWN0dXJlLmFsdCA9IGBQaG90byBvZiAke3RoaXMuX25hbWV9YDtcclxuICAgIG1vZGFsUGljdHVyZURlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIG9wZW4ocGljdHVyZU1vZGFsKTtcclxuICB9XHJcbiAgX2hpZGVEZWxldGVJY29uKCkge1xyXG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIuY2FyZF9fZGVsZXRlLWJ1dHRvblwiXHJcbiAgICApO1xyXG4gICAgaWYgKHRoaXMuX3VzZXJJZCAhPT0gdGhpcy5fb3duZXIuX2lkKSB7XHJcbiAgICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fZGVsZXRlLWJ1dHRvbi1oaWRkZW5cIik7XHJcbiAgICB9XHJcbiAgfVxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIHJldHVybiBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXHJcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VmlldygpIHtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpLmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2hpZGVEZWxldGVJY29uKCk7XHJcbiAgICB0aGlzLl9yZW5kZXJMaWtlcygpO1xyXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlKCkge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IG51bGw7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IgfSkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLm1vZGFsX19jbG9zZS1idXR0b25cIlxyXG4gICAgKTtcclxuICB9XHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjYXBlQ2xvc2UpO1xyXG4gICAgdGhpcy5fY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZUNsaWNrQ2xvc2UpO1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5faGFuZGxlQ2xpY2tDbG9zZSk7XHJcbiAgfVxyXG4gIGNsb3NlKCkge1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjYXBlQ2xvc2UpO1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5faGFuZGxlQ2xpY2tDbG9zZSk7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVDbGlja0Nsb3NlKTtcclxuICB9XHJcbiAgX2hhbmRsZUNsaWNrQ2xvc2UgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoXHJcbiAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfb3BlbmVkXCIpIHx8XHJcbiAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfX2Nsb3NlLWJ1dHRvblwiKVxyXG4gICAgKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBfaGFuZGxlRXNjYXBlQ2xvc2UgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQgfSkge1xyXG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIik7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCA9IHRoaXMuX2hhbmRsZVN1Ym1pdC5iaW5kKHRoaXMpO1xyXG4gIH1cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCBmb3JtVmFsdWVzID0ge307XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZm9ybVZhbHVlcztcclxuICB9XHJcbiAgc2V0SW5wdXRWYWx1ZXMoZGF0YSkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0LnZhbHVlID0gZGF0YVtpbnB1dC5uYW1lXTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZVN1Ym1pdCgpIHtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5faGFuZGxlU3VibWl0KTtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLl9oYW5kbGVTdWJtaXQpO1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtLnJlc2V0KCk7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBnYWxsZXJ5Q2FyZHMpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fZ2FsbGVyeUNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihnYWxsZXJ5Q2FyZHMpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoKSB7XHJcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGl0ZW1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9nYWxsZXJ5Q2FyZHMucHJlcGVuZChpdGVtRWxlbWVudCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjb25zdCBzZWxlY3RvcnMgPSB7XHJcbiAgY2FyZFNlY3Rpb246IFwiLmdhbGxlcnlfX2NhcmRzXCIsXHJcbiAgY2FyZFRlbXBsYXRlOiBcIiNjYXJkLXRlbXBsYXRlXCIsXHJcbiAgcHJldmlld1BvcHVwOiBcIi5tb2RhbF9wcmV2aWV3XCIsXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcclxuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19idXR0b25fZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcIm1vZGFsX19lcnJvcl92aXNpYmxlXCIsXHJcbn07XHJcbiIsImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWxlbWVudCkge1xyXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHNldHRpbmdzLmlucHV0U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IHNldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBzZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gc2V0dGluZ3MuZXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Zvcm0gPSBmb3JtRWxlbWVudDtcclxuICB9XHJcblxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvck1lc3NhZ2VFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIiNcIiArIGlucHV0RWxlbWVudC5pZCArIFwiLWVycm9yXCJcclxuICAgICk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JNZXNzYWdlRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIGVycm9yTWVzc2FnZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiI1wiICsgaW5wdXRFbGVtZW50LmlkICsgXCItZXJyb3JcIlxyXG4gICAgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvck1lc3NhZ2VFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIGVycm9yTWVzc2FnZUVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcclxuICB9XHJcbiAgdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuICF0aGlzLl9pbnB1dEVsZW1lbnRzLmV2ZXJ5KFxyXG4gICAgICAoaW5wdXRFbGVtZW50KSA9PiBpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWRcclxuICAgICk7XHJcbiAgfVxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2lucHV0RWxlbWVudHMgPSBbLi4udGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9pbnB1dEVsZW1lbnRzLmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChldnQpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbiAgZGlzYWJsZUJ1dHRvbigpIHtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICB9XHJcbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gICAgdGhpcy5kaXNhYmxlQnV0dG9uKCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yOyIsImltcG9ydCBcIi4vaW5kZXguY3NzXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgeyBzZWxlY3RvcnMsIHZhbGlkYXRpb25Db25maWcgfSBmcm9tIFwiLi4vdXRpbHMvQ29uc3RhbnRzLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhDb25maXJtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1cIjtcclxuXHJcbi8vIEFQSVxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTMtZW5cIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcIjM2ZDRjY2NlLTEwYzMtNGZkMS04ZTY5LTY1NjkyYzc2ODEzM1wiLFxyXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgfSxcclxufSk7XHJcblxyXG4vLyBQT1BVUCBCVVRUT05TXHJcbi8vZWRpdFxyXG5jb25zdCBvcGVuRWRpdFBvcHVwQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcclxub3BlbkVkaXRQb3B1cEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGNvbnN0IHVzZXJEYXRhID0gdXNlci5nZXRVc2VySW5mbygpO1xyXG4gIGVkaXRGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gIGVkaXRQcm9maWxlTW9kYWwub3BlbigpO1xyXG4gIGVkaXRQcm9maWxlTW9kYWwuc2V0SW5wdXRWYWx1ZXModXNlckRhdGEpO1xyXG59KTtcclxuLy9hZGRcclxuY29uc3Qgb3BlbkFkZFBvcHVwQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xyXG5vcGVuQWRkUG9wdXBCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBhZGRGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gIG5ld0NhcmRQb3B1cC5vcGVuKCk7XHJcbn0pO1xyXG5cclxuLy8gYXZhdGFyXHJcbmNvbnN0IG9wZW5BdmF0YXJQb3B1cEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW1hZ2VcIik7XHJcbm9wZW5BdmF0YXJQb3B1cEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGF2YXRhckZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgYXZhdGFyTW9kYWwub3BlbigpO1xyXG59KTtcclxuXHJcbi8vIEZvcm0gVmFsaWRhdG9yXHJcbmNvbnN0IGVkaXRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LWZvcm1cIik7XHJcbmNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgZWRpdEZvcm0pO1xyXG5lZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmNvbnN0IGFkZFByb2ZpbGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLW1vZGFsXCIpO1xyXG5jb25zdCBhZGRGb3JtID0gYWRkUHJvZmlsZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWZvcm1cIik7XHJcbmNvbnN0IGFkZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBhZGRGb3JtKTtcclxuYWRkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmNvbnN0IGF2YXRhckZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2F2YXRhci1mb3JtXCIpO1xyXG5jb25zdCBhdmF0YXJGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgYXZhdGFyRm9ybSk7XHJcbmF2YXRhckZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuLy9DYXJkc1xyXG5sZXQgY2FyZFNlY3Rpb247XHJcbmFwaVxyXG4gIC5nZXRJbml0aWFsQ2FyZHMoKVxyXG4gIC50aGVuKChjYXJkcykgPT4ge1xyXG4gICAgY2FyZFNlY3Rpb24gPSBuZXcgU2VjdGlvbihcclxuICAgICAge1xyXG4gICAgICAgIGl0ZW1zOiBjYXJkcyxcclxuICAgICAgICByZW5kZXJlcjogcmVuZGVyQ2FyZCxcclxuICAgICAgfSxcclxuICAgICAgc2VsZWN0b3JzLmNhcmRTZWN0aW9uXHJcbiAgICApO1xyXG4gICAgY2FyZFNlY3Rpb24ucmVuZGVySXRlbXMoKTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgfSk7XHJcblxyXG5jb25zdCByZW5kZXJDYXJkID0gKGRhdGEpID0+IHtcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IG5ldyBDYXJkKFxyXG4gICAge1xyXG4gICAgICBkYXRhLFxyXG4gICAgICBoYW5kbGVJbWFnZUNsaWNrOiAoaW1hZ2VEYXRhKSA9PiB7XHJcbiAgICAgICAgY2FyZFByZXZpZXcub3BlbihpbWFnZURhdGEpO1xyXG4gICAgICB9LFxyXG4gICAgICBoYW5kbGVEZWxldGVDbGljazogKGlkKSA9PiB7XHJcbiAgICAgICAgY29uZmlybURlbGV0ZU1vZGFsLm9wZW4oaWQpO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHNlbGVjdG9ycy5jYXJkVGVtcGxhdGVcclxuICApO1xyXG4gIGNvbnN0IG5ld0NhcmQgPSBjYXJkRWxlbWVudC5nZXRWaWV3KCk7XHJcbiAgY2FyZFNlY3Rpb24uYWRkSXRlbShuZXdDYXJkKTtcclxufTtcclxuXHJcbi8vIFBvcHVwIHdpdGggSW1hZ2VcclxuY29uc3QgY2FyZFByZXZpZXcgPSBuZXcgUG9wdXBXaXRoSW1hZ2Uoe1xyXG4gIHBvcHVwU2VsZWN0b3I6IFwiI3BpY3R1cmUtbW9kYWxcIixcclxufSk7XHJcblxyXG4vLyBQb3B1cCB3aXRoIGZvcm1cclxuY29uc3QgbmV3Q2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gIHBvcHVwU2VsZWN0b3I6IFwiI2FkZC1tb2RhbFwiLFxyXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChpbnB1dFZhbHVlcykgPT4ge1xyXG4gICAgcmVuZGVyQ2FyZChpbnB1dFZhbHVlcyk7XHJcbiAgICBuZXdDYXJkUG9wdXAuY2xvc2UoKTtcclxuICB9LFxyXG59KTtcclxuY29uc3QgZWRpdFByb2ZpbGVNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICBwb3B1cFNlbGVjdG9yOiBcIiNlZGl0LW1vZGFsXCIsXHJcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGlucHV0VmFsdWVzKSA9PiB7XHJcbiAgICB1c2VyLnNldFVzZXJJbmZvKGlucHV0VmFsdWVzKTtcclxuICAgIGVkaXRQcm9maWxlTW9kYWwuY2xvc2UoKTtcclxuICB9LFxyXG59KTtcclxuXHJcbi8vUG9wdXAgd2l0aCBDb25maXJtXHJcbmNvbnN0IGNvbmZpcm1EZWxldGVNb2RhbCA9IG5ldyBQb3B1cFdpdGhDb25maXJtKHtcclxuICBwb3B1cFNlbGVjdG9yOiBcIiNjb25maXJtLW1vZGFsXCIsXHJcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGlkKSA9PiB7XHJcbiAgICBhcGlcclxuICAgICAgLmRlbGV0ZUNhcmQoaWQpXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICBjb25maXJtRGVsZXRlTW9kYWwuY2xvc2UoKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgICB9KTtcclxuICAgIC8vIH1cclxuICB9LFxyXG59KTtcclxuXHJcbi8vIEF2YXRhciBQb3B1cFxyXG5jb25zdCBhdmF0YXJNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICBwb3B1cFNlbGVjdG9yOiBcIiNhdmF0YXItbW9kYWxcIixcclxuICBoYW5kbGVGb3JtU3VibWl0OiAoKSA9PiB7XHJcbiAgICBhdmF0YXJNb2RhbC5jbG9zZSgpO1xyXG4gIH0sXHJcbn0pO1xyXG5cclxuLy8gVXNlciBJbmZvXHJcbmNvbnN0IHVzZXIgPSBuZXcgVXNlckluZm8oXHJcbiAgXCIucHJvZmlsZV9fdGl0bGVcIixcclxuICBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiLFxyXG4gIFwiLnByb2ZpbGVfX2ltYWdlXCJcclxuKTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcclxuICB9XHJcblxyXG4gIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fY2hlY2tTZXJ2ZXJSZXNwb25zZShyZXMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fY2hlY2tTZXJ2ZXJSZXNwb25zZShyZXMpO1xyXG4gICAgfSk7XHJcbiAgIFxyXG4gIH1cclxuXHJcbiAgY2hhbmdlVXNlckluZm8obmFtZSwgYWJvdXQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgIGFib3V0OiBhYm91dCxcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2NoZWNrU2VydmVyUmVzcG9uc2UocmVzKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2V0QXZhdGFyKGF2YXRhcikge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhdmF0YXI6IGF2YXRhci51cmwsXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9jaGVja1NlcnZlclJlc3BvbnNlKHJlcyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZENhcmQobmFtZSwgbGluaykge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICBsaW5rOiBsaW5rLFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fY2hlY2tTZXJ2ZXJSZXNwb25zZShyZXMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBkZWxldGVDYXJkKGdldElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtnZXRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fY2hlY2tTZXJ2ZXJSZXNwb25zZShyZXMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjaGFuZ2VMaWtlQ2FyZChnZXRJZCwgaXNMaWtlZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Z2V0SWR9YCwge1xyXG4gICAgICBtZXRob2Q6IGlzTGlrZWQgPyBcIkRFTEVURVwiIDogXCJQVVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fY2hlY2tTZXJ2ZXJSZXNwb25zZShyZXMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIF9jaGVja1NlcnZlclJlc3BvbnNlKHJlcykge1xyXG4gICAgcmV0dXJuIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCI7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciB9KSB7XHJcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XHJcbiAgICB0aGlzLl9tb2RhbFBpY3R1cmUgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fcGljdHVyZVwiKTtcclxuICAgIHRoaXMuX21vZGFsUGljdHVyZURlc2NyaXB0aW9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLm1vZGFsX19waWN0dXJlLWRlc2NyaXB0aW9uXCJcclxuICAgICk7XHJcbiAgfVxyXG4gIG9wZW4oZGF0YSkge1xyXG4gICAgdGhpcy5fbW9kYWxQaWN0dXJlLnNyYyA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX21vZGFsUGljdHVyZS5hbHQgPSBgUGhvdG8gb2YgJHtkYXRhLm5hbWV9YDtcclxuICAgIHRoaXMuX21vZGFsUGljdHVyZURlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0IH0pIHtcclxuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5fY29uZmlybURlbGV0ZUJ1dHRvbiA9XHJcbiAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbmZpcm0tYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5fc2V0SGFuZGxlcnMoKTtcclxuICB9XHJcblxyXG4gIF9zZXRIYW5kbGVycygpIHtcclxuICAgIHRoaXMuX2NvbmZpcm1EZWxldGUgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIiNjb25maXJtLWJ1dHRvblwiKTtcclxuICAgIHRoaXMuX2NvbmZpcm1EZWxldGUuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgXCJjbGlja1wiLFxyXG4gICAgICB0aGlzLl9oYW5kbGVDb25maXJtLmJpbmQodGhpcylcclxuICAgICk7XHJcbiAgICB0aGlzLl9jb25maXJtRGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIFwiY2xpY2tcIixcclxuICAgICAgdGhpcy5faGFuZGxlQ29uZmlybS5iaW5kKHRoaXMpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUNvbmZpcm0oZXZlbnQpIHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBpZiAodHlwZW9mIHRoaXMuX2NvbmZpcm1IYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgdGhpcy5fY29uZmlybUhhbmRsZXIoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9wZW4oaWQpIHtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQoaWQpO1xyXG4gIH1cclxuXHJcbiAgc2V0Q29uZmlybUhhbmRsZXIoaGFuZGxlcikge1xyXG4gICAgdGhpcy5fY29uZmlybUhhbmRsZXIgPSBoYW5kbGVyO1xyXG4gIH1cclxuXHJcbiAgc2V0U3VibWl0QWN0aW9uKGFjdGlvbikge1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGFjdGlvbjtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHVzZXJOYW1lLCB1c2VySm9iLCBhdmF0YXIpIHtcclxuICAgIHRoaXMudXNlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJOYW1lKTtcclxuICAgIHRoaXMudXNlckpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlckpvYik7XHJcbiAgICB0aGlzLl9hdmF0YXJTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyKTtcclxuICB9XHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB1c2VyTmFtZTogdGhpcy51c2VyTmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgdXNlckpvYjogdGhpcy51c2VySm9iLnRleHRDb250ZW50LFxyXG4gICAgfTtcclxuICB9XHJcbiAgc2V0VXNlckluZm8oeyB1c2VySm9iLCB1c2VyTmFtZSB9KSB7XHJcbiAgICB0aGlzLnVzZXJOYW1lLnRleHRDb250ZW50ID0gdXNlck5hbWU7XHJcbiAgICB0aGlzLnVzZXJKb2IudGV4dENvbnRlbnQgPSB1c2VySm9iO1xyXG4gIH1cclxuICBzZXRBdmF0YXIoYXZhdGFyKSB7XHJcbiAgICB0aGlzLl9hdmF0YXJTZWxlY3Rvci5zcmMgPSBhdmF0YXI7XHJcbiAgICBjb25zb2xlLmxvZyhhdmF0YXIpO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiQ2FyZCIsImNvbnN0cnVjdG9yIiwiX3JlZiIsImNhcmRTZWxlY3RvciIsImRhdGEiLCJ1c2VySWQiLCJoYW5kbGVJbWFnZUNsaWNrIiwiZGVsZXRlQ2FyZCIsImhhbmRsZURlbGV0ZUNsaWNrIiwidGhpcyIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlSW1hZ2VDbGljayIsIl9oYW5kbGVEZWxldGVCdXR0b24iLCJfaWQiLCJfdXNlcklkIiwiX2RlbGV0ZUNhcmQiLCJfbGlrZXMiLCJsaWtlcyIsIl9vd25lciIsIm93bmVyIiwiZ2V0SWQiLCJpc0xpa2VkIiwic29tZSIsImxpa2UiLCJzZXRMaWtlcyIsInJlbmRlckxpa2VzIiwiX3JlbmRlckxpa2VzIiwiX2xpa2VzQW1vdW50IiwiX2NhcmRFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsInRleHRDb250ZW50IiwibGVuZ3RoIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVMaWtlSWNvbiIsInRleHQiLCJfdGV4dCIsInRvZ2dsZSIsIm1vZGFsUGljdHVyZSIsInNyYyIsImFsdCIsIm1vZGFsUGljdHVyZURlc2NyaXB0aW9uIiwib3BlbiIsInBpY3R1cmVNb2RhbCIsIl9oaWRlRGVsZXRlSWNvbiIsIl9kZWxldGVCdXR0b24iLCJfZ2V0VGVtcGxhdGUiLCJkb2N1bWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJnZXRWaWV3IiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIl9jbG9zZUJ1dHRvbiIsIl9oYW5kbGVFc2NhcGVDbG9zZSIsIl9oYW5kbGVDbGlja0Nsb3NlIiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0IiwidGFyZ2V0IiwiY29udGFpbnMiLCJrZXkiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX3BvcHVwRm9ybSIsIl9pbnB1dExpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfaGFuZGxlU3VibWl0IiwiYmluZCIsIl9nZXRJbnB1dFZhbHVlcyIsImZvcm1WYWx1ZXMiLCJmb3JFYWNoIiwiaW5wdXQiLCJ2YWx1ZSIsInNldElucHV0VmFsdWVzIiwicmVzZXQiLCJTZWN0aW9uIiwiZ2FsbGVyeUNhcmRzIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9pdGVtcyIsIl9nYWxsZXJ5Q2FyZHMiLCJyZW5kZXJJdGVtcyIsIml0ZW0iLCJhZGRJdGVtIiwiaXRlbUVsZW1lbnQiLCJwcmVwZW5kIiwidmFsaWRhdGlvbkNvbmZpZyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwic2V0dGluZ3MiLCJmb3JtRWxlbWVudCIsIl9pbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJfZm9ybSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJpbnB1dEVsZW1lbnQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX3Nob3dJbnB1dEVycm9yIiwiX2hpZGVJbnB1dEVycm9yIiwiZXJyb3JNZXNzYWdlRWxlbWVudCIsImlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfc3VibWl0QnV0dG9uIiwiZGlzYWJsZWQiLCJfaW5wdXRFbGVtZW50cyIsImV2ZXJ5IiwiZW5hYmxlVmFsaWRhdGlvbiIsInByZXZlbnREZWZhdWx0IiwiZGlzYWJsZUJ1dHRvbiIsInJlc2V0VmFsaWRhdGlvbiIsImFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsImdldEluaXRpYWxDYXJkcyIsImZldGNoIiwidGhlbiIsInJlcyIsIl9jaGVja1NlcnZlclJlc3BvbnNlIiwiZ2V0VXNlckluZm8iLCJjaGFuZ2VVc2VySW5mbyIsImFib3V0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzZXRBdmF0YXIiLCJhdmF0YXIiLCJ1cmwiLCJhZGRDYXJkIiwiY2hhbmdlTGlrZUNhcmQiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiYXV0aG9yaXphdGlvbiIsInVzZXJEYXRhIiwidXNlciIsImVkaXRGb3JtVmFsaWRhdG9yIiwiZWRpdFByb2ZpbGVNb2RhbCIsImFkZEZvcm1WYWxpZGF0b3IiLCJuZXdDYXJkUG9wdXAiLCJhdmF0YXJGb3JtVmFsaWRhdG9yIiwiYXZhdGFyTW9kYWwiLCJGb3JtVmFsaWRhdG9yIiwiY2FyZFNlY3Rpb24iLCJjYXJkcyIsInJlbmRlckNhcmQiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsIm5ld0NhcmQiLCJpbWFnZURhdGEiLCJjYXJkUHJldmlldyIsImNvbmZpcm1EZWxldGVNb2RhbCIsIl9tb2RhbFBpY3R1cmUiLCJfbW9kYWxQaWN0dXJlRGVzY3JpcHRpb24iLCJpbnB1dFZhbHVlcyIsInNldFVzZXJJbmZvIiwiX2NvbmZpcm1EZWxldGVCdXR0b24iLCJfc2V0SGFuZGxlcnMiLCJfY29uZmlybURlbGV0ZSIsIl9oYW5kbGVDb25maXJtIiwiZXZlbnQiLCJfY29uZmlybUhhbmRsZXIiLCJzZXRDb25maXJtSGFuZGxlciIsImhhbmRsZXIiLCJzZXRTdWJtaXRBY3Rpb24iLCJhY3Rpb24iLCJ1c2VyTmFtZSIsInVzZXJKb2IiLCJfYXZhdGFyU2VsZWN0b3IiLCJsb2ciXSwic291cmNlUm9vdCI6IiJ9